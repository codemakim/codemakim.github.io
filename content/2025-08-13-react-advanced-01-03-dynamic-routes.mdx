---
title: "[React Router 3/9] React Router - 동적 라우트"
date: "2025-08-17"
description: "URL 파라미터, useParams, 쿼리 스트링 처리"
tags: ["React", "고급", "프론트엔드"]
series: "React 라이브러리"
seriesOrder: 7
---

# React Router 가이드 - 동적 라우트

> React Router v6를 기반으로 한 라우팅 학습 자료  
> 출처: [React Router Documentation](https://reactrouter.com/)

---

## 동적 라우트란?

동적 라우트는 URL의 일부분을 변수로 사용하는 패턴이다. 예를 들어 `/users/1`, `/users/2`, `/users/3` 같은 수많은 경로를 하나의 라우트 정의로 처리할 수 있다.

**사용 예시**:
- 사용자 프로필: `/users/:userId`
- 블로그 포스트: `/posts/:postId`
- 상품 상세: `/products/:category/:productId`

## URL 파라미터

### 1. 파라미터 정의

콜론(`:`)을 사용하여 동적 파라미터를 정의한다:

```jsx
// 라우트 정의
<Route path="/users/:userId" element={<User />} />
<Route path="/posts/:postId" element={<Post />} />
<Route path="/products/:category/:productId" element={<Product />} />
```

**매칭 예시**:
- `/users/123` → `userId`가 `"123"`
- `/posts/hello-world` → `postId`가 `"hello-world"`
- `/products/electronics/laptop-pro` → `category`가 `"electronics"`, `productId`가 `"laptop-pro"`

### 2. useParams로 파라미터 읽기

`useParams` Hook을 사용하여 URL 파라미터를 가져온다:

```jsx
// pages/User.jsx
import { useParams } from "react-router-dom";

export default function User() {
  const { userId } = useParams();

  return (
    <div>
      <h1>User Profile</h1>
      <p>User ID: {userId}</p>
    </div>
  );
}
```

**동작 과정**:
1. 사용자가 `/users/123`에 접근한다
2. React Router가 `:userId`를 `"123"`으로 추출한다
3. `useParams()`가 `{ userId: "123" }` 객체를 반환한다

### 3. 복수 파라미터 사용

여러 파라미터를 동시에 사용할 수 있다:

```jsx
// pages/Product.jsx
import { useParams } from "react-router-dom";

export default function Product() {
  const { category, productId } = useParams();

  return (
    <div>
      <h1>Product Details</h1>
      <p>Category: {category}</p>
      <p>Product ID: {productId}</p>
    </div>
  );
}
```

### 4. 데이터 페칭 예시

실제로는 파라미터를 사용하여 API에서 데이터를 가져온다:

```jsx
import { useParams } from "react-router-dom";
import { useState, useEffect } from "react";

export default function BlogPost() {
  const { postId } = useParams();
  const [post, setPost] = useState(null);
  const [loading, setLoading] = useState(true);

  useEffect(() => {
    fetch(`/api/posts/${postId}`)
      .then(res => res.json())
      .then(data => {
        setPost(data);
        setLoading(false);
      });
  }, [postId]); // postId가 변경될 때마다 다시 fetch

  if (loading) return <div>Loading...</div>;
  if (!post) return <div>Post not found</div>;

  return (
    <article>
      <h1>{post.title}</h1>
      <p>{post.content}</p>
    </article>
  );
}
```

**주의사항**: `postId`가 변경될 때마다 useEffect가 다시 실행되어 새로운 데이터를 가져온다.

## Optional 파라미터

파라미터를 선택적으로 만들 수 있다:

```jsx
<Route path="/users/:userId?" element={<Users />} />

function Users() {
  const { userId } = useParams();

  if (userId) {
    // userId가 있으면 특정 사용자 표시
    return <UserDetail userId={userId} />;
  }

  // userId가 없으면 사용자 목록 표시
  return <UserList />;
}
```

**매칭 예시**:
- `/users` → `userId`가 `undefined`, UserList 렌더링
- `/users/123` → `userId`가 `"123"`, UserDetail 렌더링

## Wildcard (\*)

나머지 모든 경로를 캡처한다:

```jsx
<Route path="/docs/*" element={<Docs />} />

function Docs() {
  const params = useParams();
  const path = params["*"]; // /docs/ 이후의 모든 경로

  return <div>Docs path: {path}</div>;
}
```

**매칭 예시**:
- `/docs/getting-started` → `path`가 `"getting-started"`
- `/docs/api/components` → `path`가 `"api/components"`

## 실전 활용 팁

### 1. 파라미터 유효성 검사

```jsx
function User() {
  const { userId } = useParams();
  
  // 숫자가 아니면 에러 처리
  if (isNaN(userId)) {
    return <div>Invalid user ID</div>;
  }

  // ...
}
```

### 2. 여러 파라미터 조합

```jsx
// 경로: /blog/:year/:month/:day/:slug
<Route path="/blog/:year/:month/:day/:slug" element={<BlogPost />} />

function BlogPost() {
  const { year, month, day, slug } = useParams();
  // /blog/2025/08/15/react-router-guide
  // year: "2025", month: "08", day: "15", slug: "react-router-guide"
}
```

### 3. 파라미터를 Link에 활용

```jsx
function UserList() {
  const users = [
    { id: 1, name: "Alice" },
    { id: 2, name: "Bob" },
  ];

  return (
    <ul>
      {users.map(user => (
        <li key={user.id}>
          <Link to={`/users/${user.id}`}>{user.name}</Link>
        </li>
      ))}
    </ul>
  );
}
```

---
