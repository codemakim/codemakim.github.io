---
title: "ğŸ“š [React ê¸°ì´ˆ 4-7/9] Effect ì˜ì¡´ì„± ì œê±°í•˜ê¸°"
date: "2025-08-07"
description: "ë¶ˆí•„ìš”í•œ Effect ì˜ì¡´ì„±ì„ ì œê±°í•´ ì¬ì‹¤í–‰ì„ ì¤„ì´ëŠ” ë°©ë²•"
tags: ["React", "í•™ìŠµ", "Effect", "ì˜ì¡´ì„±", "ìµœì í™”"]
series: "React ê¸°ì´ˆ"
seriesOrder: 33
---

## Effect ì˜ì¡´ì„± ì œê±°í•˜ê¸°

Effectê°€ ë„ˆë¬´ ìì£¼ ì¬ì‹¤í–‰ëœë‹¤ë©´ ì˜ì¡´ì„±ì„ ì¤„ì¼ ìˆ˜ ìˆëŠ”ì§€ ê²€í† í•˜ì„¸ìš”.

### ë¶ˆí•„ìš”í•œ ì˜ì¡´ì„± ì œê±°

ê°€ì¥ í”í•œ 3ê°€ì§€ ë¬¸ì œì™€ í•´ê²°ë²•ì…ë‹ˆë‹¤.

#### 1. **ê°ì²´ ì˜ì¡´ì„±**

```jsx
// âŒ ë‚˜ì¨: ê°ì²´ëŠ” ë§¤ ë Œë”ë§ë§ˆë‹¤ ì¬ìƒì„±
function ChatRoom({ options }) {
  useEffect(() => {
    const connection = createConnection(options);
    connection.connect();
    return () => connection.disconnect();
  }, [options]);  // ë§¤ ë Œë”ë§ë§ˆë‹¤ ì¬ì—°ê²°!
}

function App() {
  const [isDark, setIsDark] = useState(false);
  const options = { serverUrl: 'https://localhost:1234', roomId: 'music' };
  return <ChatRoom options={options} />;
}

// âœ… ì¢‹ìŒ: í•„ìš”í•œ ê°’ë§Œ ì˜ì¡´ì„±ìœ¼ë¡œ
function ChatRoom({ options }) {
  const { serverUrl, roomId } = options;
  useEffect(() => {
    const connection = createConnection(serverUrl, roomId);
    connection.connect();
    return () => connection.disconnect();
  }, [serverUrl, roomId]);
}
```

#### 2. **í•¨ìˆ˜ ì˜ì¡´ì„±**

í•¨ìˆ˜ë„ ê°ì²´ì™€ ë§ˆì°¬ê°€ì§€ë¡œ ë§¤ ë Œë”ë§ë§ˆë‹¤ ì¬ìƒì„±ë©ë‹ˆë‹¤.

```jsx
// âŒ ë‚˜ì¨: í•¨ìˆ˜ëŠ” ë§¤ ë Œë”ë§ë§ˆë‹¤ ì¬ìƒì„±
function ChatRoom({ getOptions }) {
  useEffect(() => {
    const options = getOptions();
    const connection = createConnection(options);
    connection.connect();
    return () => connection.disconnect();
  }, [getOptions]);  // ë§¤ ë Œë”ë§ë§ˆë‹¤ ì¬ì—°ê²°!
}

// âœ… ì¢‹ìŒ: í•¨ìˆ˜ë¥¼ Effect ì•ˆìœ¼ë¡œ
function ChatRoom({ roomId }) {
  useEffect(() => {
    function getOptions() {
      return { serverUrl: 'https://localhost:1234', roomId };
    }
    
    const options = getOptions();
    const connection = createConnection(options);
    connection.connect();
    return () => connection.disconnect();
  }, [roomId]);
}
```

#### 3. **ë™ì  ê°ì²´/í•¨ìˆ˜ ìƒì„±**

Effect ë‚´ë¶€ì—ì„œ ê°ì²´ë¥¼ ìƒì„±í•˜ë©´ ë¶ˆí•„ìš”í•œ ì˜ì¡´ì„±ì„ í”¼í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

```jsx
// âŒ ë‚˜ì¨
function ChatRoom({ roomId }) {
  useEffect(() => {
    const options = {
      serverUrl: serverUrl,
      roomId: roomId
    };
    const connection = createConnection(options);
    connection.connect();
    return () => connection.disconnect();
  }, [roomId, serverUrl]);
}

// âœ… ì¢‹ìŒ
function ChatRoom({ roomId }) {
  useEffect(() => {
    const connection = createConnection(serverUrl, roomId);
    connection.connect();
    return () => connection.disconnect();
  }, [roomId]);  // serverUrlì€ ì»´í¬ë„ŒíŠ¸ ì™¸ë¶€ì˜ ìƒìˆ˜
}

const serverUrl = 'https://localhost:1234';
```

### Stateë¡œë¶€í„° ë‹¤ìŒ state ê³„ì‚°

ì´ì „ stateë¥¼ ê¸°ë°˜ìœ¼ë¡œ ìƒˆ stateë¥¼ ê³„ì‚°í•  ë•ŒëŠ” ì—…ë°ì´í„° í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•˜ì„¸ìš”.

```jsx
// âŒ ë‚˜ì¨: messagesê°€ ì˜ì¡´ì„±
function ChatRoom({ roomId }) {
  const [messages, setMessages] = useState([]);

  useEffect(() => {
    const connection = createConnection();
    connection.on('message', (receivedMessage) => {
      setMessages([...messages, receivedMessage]);
    });
    return () => connection.disconnect();
  }, [roomId, messages]);  // messages ë³€ê²½ ì‹œë§ˆë‹¤ ì¬ì—°ê²°!
}

// âœ… ì¢‹ìŒ: ì—…ë°ì´í„° í•¨ìˆ˜ ì‚¬ìš©
function ChatRoom({ roomId }) {
  const [messages, setMessages] = useState([]);

  useEffect(() => {
    const connection = createConnection();
    connection.on('message', (receivedMessage) => {
      setMessages(msgs => [...msgs, receivedMessage]);
    });
    return () => connection.disconnect();
  }, [roomId]);  // messagesëŠ” ì˜ì¡´ì„± ì•„ë‹˜!
}
```

### ê°’ì„ ì½ë˜ "ë°˜ì‘"í•˜ê³  ì‹¶ì§€ ì•Šì„ ë•Œ

ìµœì‹  ê°’ì€ ì½ê³  ì‹¶ì§€ë§Œ Effectë¥¼ ì¬ì‹¤í–‰í•˜ê³  ì‹¶ì§€ ì•Šë‹¤ë©´ Effect Eventë¥¼ ì‚¬ìš©í•˜ì„¸ìš”.

```jsx
// âŒ ë‚˜ì¨: theme ë³€ê²½ ì‹œ ì¬ì—°ê²°
function ChatRoom({ roomId, theme }) {
  useEffect(() => {
    const connection = createConnection(serverUrl, roomId);
    connection.on('connected', () => {
      showNotification('Connected!', theme);
    });
    connection.connect();
    return () => connection.disconnect();
  }, [roomId, theme]);
}

// âœ… ì¢‹ìŒ: Effect Event ì‚¬ìš©
function ChatRoom({ roomId, theme }) {
  const onConnected = useEffectEvent(() => {
    showNotification('Connected!', theme);
  });

  useEffect(() => {
    const connection = createConnection(serverUrl, roomId);
    connection.on('connected', onConnected);
    connection.connect();
    return () => connection.disconnect();
  }, [roomId]);
}
```
