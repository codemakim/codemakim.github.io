---
title: "ğŸ“š [React ê¸°ì´ˆ 4-6/10] ë°˜ì‘í˜• Effectì˜ ìƒëª…ì£¼ê¸°"
date: "2025-08-05"
description: "Effectì˜ ìƒëª…ì£¼ê¸°ì™€ ì˜ì¡´ì„± ë°°ì—´ì˜ ì¤‘ìš”ì„±ì„ ì´í•´í•©ë‹ˆë‹¤"
tags: ["React", "í•™ìŠµ", "Effect", "ìƒëª…ì£¼ê¸°"]
series: "React ê¸°ì´ˆ"
seriesOrder: 32
---

## ë°˜ì‘í˜• Effectì˜ ìƒëª…ì£¼ê¸°

Effectì˜ ìƒëª…ì£¼ê¸°ë¥¼ ì˜¬ë°”ë¥´ê²Œ ì´í•´í•˜ë©´ ë§ì€ ë²„ê·¸ë¥¼ í”¼í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

### Effectì˜ ìƒëª…ì£¼ê¸°ëŠ” ì»´í¬ë„ŒíŠ¸ì™€ ë‹¤ë¦…ë‹ˆë‹¤

**ì»´í¬ë„ŒíŠ¸:**

- ë§ˆìš´íŠ¸ (Mount)
- ì—…ë°ì´íŠ¸ (Update)
- ì–¸ë§ˆìš´íŠ¸ (Unmount)

**Effect:**

- ë™ê¸°í™” ì‹œì‘ (Start synchronizing)
- ë™ê¸°í™” ì¤‘ì§€ (Stop synchronizing)

### ì˜ˆì œ: ì±„íŒ…ë°©

Effect ìƒëª…ì£¼ê¸°ë¥¼ êµ¬ì²´ì ì¸ ì˜ˆì œë¡œ ì‚´í´ë´…ì‹œë‹¤.

```jsx
const serverUrl = 'https://localhost:1234';

function ChatRoom({ roomId }) {
  useEffect(() => {
    const connection = createConnection(serverUrl, roomId);
    connection.connect();
    return () => connection.disconnect();
  }, [roomId]);

  return <h1>Welcome to {roomId}!</h1>;
}
```

**ìƒëª…ì£¼ê¸°:**

1. `roomId = "general"`ë¡œ ë§ˆìš´íŠ¸
   - Effect: `general` ë°©ì— ì—°ê²°

2. `roomId = "travel"`ë¡œ ì—…ë°ì´íŠ¸
   - Effect í´ë¦°ì—…: `general` ë°© ì—°ê²° í•´ì œ
   - Effect: `travel` ë°©ì— ì—°ê²°

3. ì»´í¬ë„ŒíŠ¸ ì–¸ë§ˆìš´íŠ¸
   - Effect í´ë¦°ì—…: `travel` ë°© ì—°ê²° í•´ì œ

### ì˜ì¡´ì„± ë°°ì—´ì˜ ì¤‘ìš”ì„±

Effectê°€ ì‚¬ìš©í•˜ëŠ” ëª¨ë“  ë°˜ì‘í˜• ê°’ì„ ì˜ì¡´ì„±ì— í¬í•¨í•´ì•¼ í•©ë‹ˆë‹¤.

```jsx
// âŒ ê²½ê³ : roomIdê°€ ì˜ì¡´ì„±ì— ì—†ìŒ
useEffect(() => {
  const connection = createConnection(serverUrl, roomId);
  connection.connect();
  return () => connection.disconnect();
}, []); // ğŸ”´ React Hook useEffect has a missing dependency: 'roomId'

// âœ… ì˜¬ë°”ë¦„
useEffect(() => {
  const connection = createConnection(serverUrl, roomId);
  connection.connect();
  return () => connection.disconnect();
}, [roomId]);
```

### ê° EffectëŠ” ë…ë¦½ì ì¸ ë™ê¸°í™” í”„ë¡œì„¸ìŠ¤

ê´€ë ¨ ì—†ëŠ” ë¡œì§ì€ ë³„ë„ì˜ Effectë¡œ ë¶„ë¦¬í•˜ì„¸ìš”.

```jsx
// âŒ ë‚˜ì¨: ê´€ë ¨ ì—†ëŠ” ë¡œì§ì„ í•˜ë‚˜ì˜ Effectì—
function ChatRoom({ roomId }) {
  useEffect(() => {
    logVisit(roomId);
    const connection = createConnection(serverUrl, roomId);
    connection.connect();
    return () => connection.disconnect();
  }, [roomId]);
  // ...
}

// âœ… ì¢‹ìŒ: ê° ë™ê¸°í™” í”„ë¡œì„¸ìŠ¤ë¥¼ ë³„ë„ Effectë¡œ
function ChatRoom({ roomId }) {
  useEffect(() => {
    logVisit(roomId);
  }, [roomId]);

  useEffect(() => {
    const connection = createConnection(serverUrl, roomId);
    connection.connect();
    return () => connection.disconnect();
  }, [roomId]);
  // ...
}
```

### EffectëŠ” ë°˜ì‘í˜• ê°’ì— "ë°˜ì‘"í•©ë‹ˆë‹¤

EffectëŠ” props, state ë“± ë°˜ì‘í˜• ê°’ì´ ë³€ê²½ë  ë•Œë§ˆë‹¤ ì¬ì‹¤í–‰ë©ë‹ˆë‹¤.

```jsx
function ChatRoom({ roomId, serverUrl }) {
  useEffect(() => {
    const connection = createConnection(serverUrl, roomId);
    connection.connect();
    return () => connection.disconnect();
  }, [roomId, serverUrl]);
  // ...
}
```

**ë°˜ì‘í˜• ê°’:**

- Props
- State
- ì»´í¬ë„ŒíŠ¸ ë³¸ë¬¸ì— ì§ì ‘ ì„ ì–¸ëœ ë³€ìˆ˜ì™€ í•¨ìˆ˜

**ë¹„ë°˜ì‘í˜• ê°’:**

- ì»´í¬ë„ŒíŠ¸ ì™¸ë¶€ì˜ ê°’
- `ref.current` (ì˜ë„ì ìœ¼ë¡œ ë³€ê²½ ê°€ëŠ¥)

### ë¹ˆ ì˜ì¡´ì„± ë°°ì—´ `[]`

ë¹ˆ ë°°ì—´ì€ "í•œ ë²ˆë§Œ ì‹¤í–‰"ì„ ì˜ë¯¸í•˜ì§€ë§Œ, ì¡°ì‹¬í•´ì„œ ì‚¬ìš©í•´ì•¼ í•©ë‹ˆë‹¤.

```jsx
useEffect(() => {
  const connection = createConnection(serverUrl, roomId);
  connection.connect();
  return () => connection.disconnect();
}, []); // ë§ˆìš´íŠ¸ ì‹œì—ë§Œ ì‹¤í–‰
```

**ì˜ë¯¸:** "ì»´í¬ë„ŒíŠ¸ê°€ ë§ˆìš´íŠ¸ë  ë•Œë§Œ ì‹¤í–‰"

âš ï¸ **ì£¼ì˜:** ë°˜ì‘í˜• ê°’ì„ ì‚¬ìš©í•˜ëŠ”ë° ì˜ì¡´ì„±ì— ì—†ìœ¼ë©´ ë²„ê·¸ ë°œìƒ!

---

**ì¶œì²˜**: [React Official Documentation](https://react.dev/learn/escape-hatches)
