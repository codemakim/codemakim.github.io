---
title: "📚 [React 기초 2-6/8] 객체 State 업데이트하기"
date: "2025-07-20"
description: "React에서 객체 State를 불변성 원칙에 따라 업데이트하는 방법을 학습합니다"
tags: ["React", "학습", "Vue", "초급", "프론트엔드"]
series: "React 기초"
seriesOrder: 16
---

# React 학습 가이드 - 객체 State 업데이트하기

> React 공식 문서를 기반으로 한 학습 자료  
> 원문: [Adding Interactivity - React](https://react.dev/learn/adding-interactivity)

---

## 객체 State 업데이트하기

### State는 불변으로 취급하세요

**잘못된 방법:**

```jsx
const [position, setPosition] = useState({ x: 0, y: 0 });

// ❌ 직접 수정 (돌연변이)
position.x = 5;
```

기술적으로는 가능하지만, **React는 이 변경을 감지하지 못합니다!**

**올바른 방법:**

```jsx
// ✅ 새 객체 생성
setPosition({
  x: 5,
  y: 0
});
```

### 예제: 폼 입력

```jsx
import { useState } from 'react';

export default function Form() {
  const [person, setPerson] = useState({
    firstName: 'Barbara',
    lastName: 'Hepworth',
    email: 'bhepworth@sculpture.com'
  });

  function handleFirstNameChange(e) {
    setPerson({
      ...person,            // 기존 필드 복사
      firstName: e.target.value  // firstName만 업데이트
    });
  }

  function handleLastNameChange(e) {
    setPerson({
      ...person,
      lastName: e.target.value
    });
  }

  function handleEmailChange(e) {
    setPerson({
      ...person,
      email: e.target.value
    });
  }

  return (
    <>
      <label>
        First name:
        <input
          value={person.firstName}
          onChange={handleFirstNameChange}
        />
      </label>
      <label>
        Last name:
        <input
          value={person.lastName}
          onChange={handleLastNameChange}
        />
      </label>
      <label>
        Email:
        <input
          value={person.email}
          onChange={handleEmailChange}
        />
      </label>
      <p>
        {person.firstName}{' '}
        {person.lastName}{' '}
        ({person.email})
      </p>
    </>
  );
}
```

### Spread 문법 `...` 사용하기

**Spread 문법**은 객체를 복사할 때 유용합니다:

```jsx
setPerson({
  ...person,       // 모든 기존 필드 복사
  firstName: 'Kim' // firstName만 덮어쓰기
});
```

**동작 원리:**

```jsx
// 이전
{ firstName: 'Barbara', lastName: 'Hepworth', email: 'bhepworth@sculpture.com' }

// Spread 후
{ firstName: 'Kim', lastName: 'Hepworth', email: 'bhepworth@sculpture.com' }
```

### 단일 이벤트 핸들러로 여러 필드 처리

```jsx
import { useState } from 'react';

export default function Form() {
  const [person, setPerson] = useState({
    firstName: 'Barbara',
    lastName: 'Hepworth',
    email: 'bhepworth@sculpture.com'
  });

  function handleChange(e) {
    setPerson({
      ...person,
      [e.target.name]: e.target.value  // 계산된 속성명
    });
  }

  return (
    <>
      <label>
        First name:
        <input
          name="firstName"
          value={person.firstName}
          onChange={handleChange}
        />
      </label>
      <label>
        Last name:
        <input
          name="lastName"
          value={person.lastName}
          onChange={handleChange}
        />
      </label>
      <label>
        Email:
        <input
          name="email"
          value={person.email}
          onChange={handleChange}
        />
      </label>
      <p>
        {person.firstName}{' '}
        {person.lastName}{' '}
        ({person.email})
      </p>
    </>
  );
}
```

**`[e.target.name]`** - 계산된 속성명 사용

### 중첩된 객체 업데이트

```jsx
const [person, setPerson] = useState({
  name: 'Niki de Saint Phalle',
  artwork: {
    title: 'Blue Nana',
    city: 'Hamburg',
    image: 'https://i.imgur.com/Sd1AgUOm.jpg',
  }
});
```

**`artwork.city` 업데이트:**

```jsx
// ❌ 돌연변이
person.artwork.city = 'New Delhi';

// ✅ 새 객체 생성
setPerson({
  ...person,
  artwork: {
    ...person.artwork,
    city: 'New Delhi'
  }
});
```

### Immer로 간결한 업데이트 로직

중첩된 객체 업데이트는 복잡해질 수 있습니다. **Immer** 라이브러리를 사용하면 간결하게 작성할 수 있습니다:

```bash
npm install use-immer
```

```jsx
import { useImmer } from 'use-immer';

export default function Form() {
  const [person, updatePerson] = useImmer({
    name: 'Niki de Saint Phalle',
    artwork: {
      title: 'Blue Nana',
      city: 'Hamburg',
      image: 'https://i.imgur.com/Sd1AgUOm.jpg',
    }
  });

  function handleCityChange(e) {
    updatePerson(draft => {
      draft.artwork.city = e.target.value;  // 직접 수정처럼 보임!
    });
  }

  // ...
}
```

**Immer는 내부적으로 불변 업데이트를 처리합니다.**

### Vue와 비교

```html
<script setup>
import { reactive } from 'vue'

const person = reactive({
  firstName: 'Barbara',
  lastName: 'Hepworth'
})

// ✅ Vue는 직접 수정 가능 (반응형)
person.firstName = 'Kim'
</script>
```

```jsx
// React: 불변 업데이트 필요
const [person, setPerson] = useState({
  firstName: 'Barbara',
  lastName: 'Hepworth'
})

// ❌ 직접 수정 불가
person.firstName = 'Kim'

// ✅ 새 객체 생성
setPerson({ ...person, firstName: 'Kim' })
```

---

## 다음 단계

이제 객체 State 업데이트를 이해했으니, 다음 포스트에서는 **배열 State 업데이트하기**를 학습합니다.

**배울 내용:**
- 배열 State의 불변성
- 배열 메서드 사용법
- 중첩 배열 업데이트

---

**작성일**: 2025-10-11  
**출처**: [React Official Documentation](https://react.dev/learn/adding-interactivity)  
**대상**: React 초급 학습자
