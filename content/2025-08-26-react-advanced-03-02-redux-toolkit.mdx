---
title: "ğŸš€ [React ë¼ì´ë¸ŒëŸ¬ë¦¬ 2/5] ìƒíƒœ ê´€ë¦¬ - Redux Toolkit"
date: "2025-08-27"
description: "Redux Toolkitì˜ Flux ì•„í‚¤í…ì²˜ì™€ ìµœì í™”"
tags: ["React", "ê³ ê¸‰", "í”„ë¡ íŠ¸ì—”ë“œ"]
series: "React ë¼ì´ë¸ŒëŸ¬ë¦¬"
seriesOrder: 55
---

# React ìƒíƒœ ê´€ë¦¬ ë¼ì´ë¸ŒëŸ¬ë¦¬ ê°€ì´ë“œ - Redux Toolkit

> Zustand, Redux Toolkitì„ ì¤‘ì‹¬ìœ¼ë¡œ í•œ ìƒíƒœ ê´€ë¦¬ í•™ìŠµ ìë£Œ

---

## Redux Toolkit
Redux Toolkit

Zustand

### ê°œìš”

**Zustand**ëŠ” ê°€ì¥ ê°„ë‹¨í•˜ê³  ê°€ë²¼ìš´ ìƒíƒœ ê´€ë¦¬ ë¼ì´ë¸ŒëŸ¬ë¦¬ì…ë‹ˆë‹¤.

### ğŸ” Zustandì˜ ë™ì‘ ì›ë¦¬

**í•µì‹¬ ë©”ì»¤ë‹ˆì¦˜: êµ¬ë… íŒ¨í„´ (Subscription Pattern)**

```javascript
// Zustandê°€ ë‚´ë¶€ì ìœ¼ë¡œ í•˜ëŠ” ì¼ (ë‹¨ìˆœí™”)
function create(initializer) {
  let state = initializer((updater) => {
    // setState í•¨ìˆ˜
    state = updater(state);
    listeners.forEach(listener => listener(state));  // ëª¨ë“  êµ¬ë…ìì—ê²Œ ì•Œë¦¼
  });
  
  const listeners = new Set();
  
  return (selector) => {
    const [, forceUpdate] = useReducer(x => x + 1, 0);
    
    useEffect(() => {
      const listener = () => {
        const selectedState = selector(state);
        forceUpdate();  // ë¦¬ë Œë”ë§ íŠ¸ë¦¬ê±°!
      };
      listeners.add(listener);
      return () => listeners.delete(listener);
    }, []);
    
    return selector(state);
  };
}
```

**ë™ì‘ ê³¼ì •:**

```
1. Store ìƒì„±
   â†’ ì´ˆê¸° state ì €ì¥
   â†’ subscribers Set ìƒì„±

2. ì»´í¬ë„ŒíŠ¸ì—ì„œ useStore í˜¸ì¶œ
   â†’ selector í•¨ìˆ˜ë¡œ í•„ìš”í•œ stateë§Œ ì¶”ì¶œ
   â†’ í•´ë‹¹ ì»´í¬ë„ŒíŠ¸ë¥¼ subscriberë¡œ ë“±ë¡

3. State ì—…ë°ì´íŠ¸ (set í•¨ìˆ˜ í˜¸ì¶œ)
   â†’ state ê°ì²´ ë³€ê²½
   â†’ ëª¨ë“  subscribersì—ê²Œ ì•Œë¦¼
   â†’ ê° ì»´í¬ë„ŒíŠ¸ê°€ selector ì¬ì‹¤í–‰
   â†’ ê²°ê³¼ê°€ ë³€ê²½ëìœ¼ë©´ ë¦¬ë Œë”ë§

4. ì»´í¬ë„ŒíŠ¸ ì–¸ë§ˆìš´íŠ¸
   â†’ subscriber ëª©ë¡ì—ì„œ ì œê±°
```

**ì™œ ë¹ ë¥¸ê°€?**

```jsx
const useStore = create((set) => ({
  count: 0,
  user: { name: 'John' },
  increment: () => set((state) => ({ count: state.count + 1 }))
}));

// Component A: countë§Œ êµ¬ë…
function ComponentA() {
  const count = useStore(state => state.count);
  // count ë³€ê²½ ì‹œì—ë§Œ ë¦¬ë Œë”ë§!
}

// Component B: userë§Œ êµ¬ë…
function ComponentB() {
  const user = useStore(state => state.user);
  // user ë³€ê²½ ì‹œì—ë§Œ ë¦¬ë Œë”ë§!
}

// count ë³€ê²½ ì‹œ:
// - ComponentAë§Œ ë¦¬ë Œë”ë§
// - ComponentBëŠ” ë¦¬ë Œë”ë§ ì•ˆë¨!
```

**Context APIì™€ ë¹„êµ:**

```jsx
// âŒ Context: ëª¨ë“  Consumerê°€ ë¦¬ë Œë”ë§
const value = { count, user };
<Context.Provider value={value}>
  <ComponentA />  {/* countë§Œ ì‚¬ìš©í•´ë„ user ë³€ê²½ ì‹œ ë¦¬ë Œë”ë§! */}
  <ComponentB />
</Context.Provider>

// âœ… Zustand: ì„ íƒì  êµ¬ë…
useStore(state => state.count)  // count ë³€ê²½ ì‹œì—ë§Œ ë¦¬ë Œë”ë§
```

### ğŸ’¡ ì‹¤ë¬´ TIP: "Zustandì™€ Context APIì˜ ì°¨ì´ëŠ”?"

**ë‹µë³€ ì˜ˆì‹œ:**

"ë‘˜ ë‹¤ ì „ì—­ ìƒíƒœ ê´€ë¦¬ì´ì§€ë§Œ ê·¼ë³¸ì  ì°¨ì´ê°€ ìˆìŠµë‹ˆë‹¤.

**Context APIì˜ í•œê³„:**

```jsx
const AppContext = createContext();

function Provider({ children }) {
  const [state, setState] = useState({ count: 0, user: null, theme: 'light' });
  return <AppContext.Provider value={state}>{children}</AppContext.Provider>;
}

function Component() {
  const { count } = useContext(AppContext);
  // ë¬¸ì œ: theme ë³€ê²½ë˜ì–´ë„ ë¦¬ë Œë”ë§ë¨!
}
```

**Zustandì˜ í•´ê²°:**
ì„ íƒì  êµ¬ë… (Selective Subscription)ìœ¼ë¡œ í•„ìš”í•œ stateë§Œ êµ¬ë…í•©ë‹ˆë‹¤.

```jsx
const count = useStore(state => state.count);
// count ë³€ê²½ ì‹œì—ë§Œ ë¦¬ë Œë”ë§!
```

**ì„±ëŠ¥ ì°¨ì´:**

- ëŒ€ê·œëª¨ ì•±ì—ì„œ ë¶ˆí•„ìš”í•œ ë¦¬ë Œë”ë§ 80% ê°ì†Œ
- Profilerë¡œ ì¸¡ì •í•˜ë©´ ëª…í™•íˆ ë³´ì„

**ì–¸ì œ ë¬´ì—‡ì„ ì‚¬ìš©?**

- Context: í…Œë§ˆ, ì–¸ì–´ ë“± ëŠë¦¬ê²Œ ë³€í•˜ëŠ” ìƒíƒœ
- Zustand: ìì£¼ ë³€í•˜ëŠ” UI ìƒíƒœ, í¼ ìƒíƒœ ë“±"

**íŠ¹ì§•:**

- ê·¹ë„ë¡œ ê°„ë‹¨í•œ API
- ë³´ì¼ëŸ¬í”Œë ˆì´íŠ¸ ê±°ì˜ ì—†ìŒ
- React Hook ê¸°ë°˜
- TypeScript ì§€ì› ìš°ìˆ˜

### ì„¤ì¹˜

```bash
npm install zustand
```

### ê¸°ë³¸ ì‚¬ìš©ë²•

```jsx
// stores/useCounterStore.js
import { create } from 'zustand';

const useCounterStore = create((set) => ({
  count: 0,
  increment: () => set((state) => ({ count: state.count + 1 })),
  decrement: () => set((state) => ({ count: state.count + 1 })),
  reset: () => set({ count: 0 }),
}));

export default useCounterStore;
```

```jsx
// components/Counter.jsx
import useCounterStore from '../stores/useCounterStore';

export default function Counter() {
  const count = useCounterStore((state) => state.count);
  const increment = useCounterStore((state) => state.increment);
  const decrement = useCounterStore((state) => state.decrement);
  const reset = useCounterStore((state) => state.reset);

  return (
    <div>
      <h1>{count}</h1>
      <button onClick={increment}>+</button>
      <button onClick={decrement}>-</button>
      <button onClick={reset}>Reset</button>
    </div>
  );
}
```

### ì„ íƒì  êµ¬ë… (ìµœì í™”)

```jsx
// âœ… ì¢‹ìŒ: countë§Œ êµ¬ë… (count ë³€ê²½ ì‹œì—ë§Œ ë¦¬ë Œë”ë§)
function Counter() {
  const count = useCounterStore((state) => state.count);
  return <h1>{count}</h1>;
}

// âŒ ë‚˜ì¨: ì „ì²´ store êµ¬ë… (ëª¨ë“  ë³€ê²½ ì‹œ ë¦¬ë Œë”ë§)
function Counter() {
  const store = useCounterStore();
  return <h1>{store.count}</h1>;
}
```

### ë¹„ë™ê¸° ì•¡ì…˜

```jsx
import { create } from 'zustand';

const useUserStore = create((set) => ({
  users: [],
  loading: false,
  error: null,

  fetchUsers: async () => {
    set({ loading: true, error: null });
    try {
      const response = await fetch('/api/users');
      const users = await response.json();
      set({ users, loading: false });
    } catch (error) {
      set({ error: error.message, loading: false });
    }
  },

  addUser: async (user) => {
    try {
      const response = await fetch('/api/users', {
        method: 'POST',
        body: JSON.stringify(user),
      });
      const newUser = await response.json();
      set((state) => ({ users: [...state.users, newUser] }));
    } catch (error) {
      set({ error: error.message });
    }
  },
}));
```

### Immer ë¯¸ë“¤ì›¨ì–´ (ë¶ˆë³€ì„± ê°„í¸í™”)

```bash
npm install immer
```

```jsx
import { create } from 'zustand';
import { immer } from 'zustand/middleware/immer';

const useTodoStore = create(
  immer((set) => ({
    todos: [],
    
    addTodo: (text) =>
      set((state) => {
        state.todos.push({ id: Date.now(), text, completed: false });
      }),
    
    toggleTodo: (id) =>
      set((state) => {
        const todo = state.todos.find((t) => t.id === id);
        if (todo) {
          todo.completed = !todo.completed;
        }
      }),
    
    removeTodo: (id) =>
      set((state) => {
        state.todos = state.todos.filter((t) => t.id !== id);
      }),
  }))
);
```

### Persist ë¯¸ë“¤ì›¨ì–´ (LocalStorage)

```jsx
import { create } from 'zustand';
import { persist } from 'zustand/middleware';

const useAuthStore = create(
  persist(
    (set) => ({
      user: null,
      token: null,
      
      login: (user, token) => set({ user, token }),
      logout: () => set({ user: null, token: null }),
    }),
    {
      name: 'auth-storage', // localStorage key
    }
  )
);
```

### Slice íŒ¨í„´ (ëŒ€ê·œëª¨ ì•±)

```jsx
// stores/slices/userSlice.js
export const createUserSlice = (set) => ({
  users: [],
  fetchUsers: async () => {
    const users = await fetch('/api/users').then((r) => r.json());
    set({ users });
  },
});

// stores/slices/postSlice.js
export const createPostSlice = (set) => ({
  posts: [],
  fetchPosts: async () => {
    const posts = await fetch('/api/posts').then((r) => r.json());
    set({ posts });
  },
});

// stores/useStore.js
import { create } from 'zustand';
import { createUserSlice } from './slices/userSlice';
import { createPostSlice } from './slices/postSlice';

const useStore = create((...args) => ({
  ...createUserSlice(...args),
  ...createPostSlice(...args),
}));

export default useStore;
```

### DevTools

```jsx
import { create } from 'zustand';
import { devtools } from 'zustand/middleware';

const useStore = create(
  devtools((set) => ({
    count: 0,
    increment: () => set((state) => ({ count: state.count + 1 })),
  }))
);
```

### Piniaì™€ ë¹„êµ

```javascript
// Vue: Pinia
import { defineStore } from 'pinia'

export const useCounterStore = defineStore('counter', {
  state: () => ({
    count: 0
  }),
  actions: {
    increment() {
      this.count++
    }
  }
})
```

```javascript
// React: Zustand
import { create } from 'zustand'

const useCounterStore = create((set) => ({
  count: 0,
  increment: () => set((state) => ({ count: state.count + 1 }))
}))
```

---