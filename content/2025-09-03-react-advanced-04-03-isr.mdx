---
title: "[Next.js 고급 3/7] Next.js 고급 - ISR"
date: "2025-09-08"
description: "Incremental Static Regeneration 전략"
tags: ["Next.js", "React", "고급", "프론트엔드"]
series: "React 라이브러리"
seriesOrder: 29
---

# Next.js 고급 기능 가이드 - ISR

> Next.js 15의 고급 기능을 다루는 학습 자료

---

## ISR (Incremental Static Regeneration)

### 기본 ISR

```jsx
// app/posts/[id]/page.jsx
export const revalidate = 60; // 60초마다 재생성
export default async function Post({ params }) {
  const post = await fetchPost(params.id);

  return (
    <article>
      <h1>{post.title}</h1>
      <p>{post.content}</p>
    </article>
  );
}
export async function generateStaticParams() {
  const posts = await fetchPosts();

  return posts.map((post) => ({
    id: post.id.toString(),
  }));
}
```

### On-Demand Revalidation

```jsx
// app/api/revalidate/route.js
import { revalidatePath, revalidateTag } from "next/cache";
import { NextResponse } from "next/server";
export async function POST(request) {
  const { path, tag } = await request.json();
  if (path) {
    revalidatePath(path);
    return NextResponse.json({ revalidated: true, path });
  }
  if (tag) {
    revalidateTag(tag);
    return NextResponse.json({ revalidated: true, tag });
  }
  return NextResponse.json({ revalidated: false });
}
```

```jsx
// 특정 경로 재검증
fetch("/api/revalidate", {
  method: "POST",
  body: JSON.stringify({ path: "/posts/1" }),
});
// 태그로 재검증
fetch("/api/revalidate", {
  method: "POST",
  body: JSON.stringify({ tag: "posts" }),
});
```

### 태그 기반 캐시

```jsx
// app/posts/page.jsx
export default async function Posts() {
  const posts = await fetch("https://api.example.com/posts", {
    next: { tags: ["posts"] },
  }).then((res) => res.json());
  return (
    <ul>
      {posts.map((post) => (
        <li key={post.id}>{post.title}</li>
      ))}
    </ul>
  );
}
```

```jsx
// app/actions.js
"use server";
import { revalidateTag } from "next/cache";
export async function createPost(data) {
  await db.posts.create({ data });
  revalidateTag("posts"); // 'posts' 태그를 가진 모든 캐시 무효화
}
```

---
