---
title: "[React ë¼ì´ë¸ŒëŸ¬ë¦¬ 4/4] Next.js ê³ ê¸‰ - ì„œë²„ ì»´í¬ë„ŒíŠ¸"
date: "2025-09-01"
description: "ì„œë²„ ì»´í¬ë„ŒíŠ¸ê°€ ë²ˆë“¤ì„ ì¤„ì´ëŠ” ë©”ì»¤ë‹ˆì¦˜, ì„œë²„ ì•¡ì…˜ì˜ RPC ë°©ì‹ì„ ì´í•´í•œë‹¤"
tags: ["Next.js", "React", "ê³ ê¸‰", "í”„ë¡ íŠ¸ì—”ë“œ"]
series: "React ë¼ì´ë¸ŒëŸ¬ë¦¬"
seriesOrder: 4
draft: true
---

# Next.js ê³ ê¸‰ ê¸°ëŠ¥ ê°€ì´ë“œ

> Next.js 15ì˜ ê³ ê¸‰ ê¸°ëŠ¥ì„ ë‹¤ë£¨ëŠ” í•™ìŠµ ìë£Œ

---
## ğŸ“š ëª©ì°¨
1. [ì„œë²„ ì•¡ì…˜](#ì„œë²„-ì•¡ì…˜)
2. [ìŠ¤íŠ¸ë¦¬ë° SSR](#ìŠ¤íŠ¸ë¦¬ë°-ssr)
3. [ISR](#isr-incremental-static-regeneration)
4. [Middleware](#middleware)
5. [API Routes ê³ ê¸‰](#api-routes-ê³ ê¸‰)
6. [ì´ë¯¸ì§€ ìµœì í™”](#ì´ë¯¸ì§€-ìµœì í™”)
---

## ì„œë²„ ì•¡ì…˜

### ê°œìš”

Server ActionsëŠ” ì„œë²„ì—ì„œ ì‹¤í–‰ë˜ëŠ” ë¹„ë™ê¸° í•¨ìˆ˜ì´ë‹¤. (Next.js 14+)

###  ì„œë²„ ì»´í¬ë„ŒíŠ¸ì™€ ì„œë²„ ì•¡ì…˜ì˜ ë™ì‘ ì›ë¦¬

ì„œë²„ ì»´í¬ë„ŒíŠ¸ê°€ í•´ê²°í•˜ëŠ” ê·¼ë³¸ì  ë¬¸ì œ:

ì „í†µì ì¸ React (CSR):

```
ë¸Œë¼ìš°ì €ê°€ HTML ë°›ìŒ (ê±°ì˜ ë¹„ì–´ìˆìŒ)
  â†“
JavaScript ë²ˆë“¤ ë‹¤ìš´ë¡œë“œ (ëª¨ë“  ì»´í¬ë„ŒíŠ¸ ì½”ë“œ í¬í•¨!)
  â†“
React ì‹¤í–‰
  â†“
API í˜¸ì¶œë¡œ ë°ì´í„° í˜ì¹­
  â†“
í™”ë©´ ë Œë”ë§

ë¬¸ì œ: ë²ˆë“¤ í¬ê¸° â†‘, ì´ˆê¸° ë¡œë”© â†“, SEO â†“
```

ì„œë²„ ì»´í¬ë„ŒíŠ¸ (Next.js):

```
ì„œë²„ì—ì„œ ì»´í¬ë„ŒíŠ¸ ì‹¤í–‰
  â†“
DB ì§ì ‘ ì ‘ê·¼ (ë¹ ë¦„!)
  â†“
ì™„ì„±ëœ HTML ìƒì„±
  â†“
HTML + ìµœì†Œí•œì˜ JavaScriptë§Œ ì „ì†¡
  â†“
ì¦‰ì‹œ í™”ë©´ í‘œì‹œ

ì¥ì : ë²ˆë“¤ í¬ê¸° â†“, ì´ˆê¸° ë¡œë”© â†‘, SEO â†‘
```

###  ì„œë²„ ì»´í¬ë„ŒíŠ¸ vs í´ë¼ì´ì–¸íŠ¸ ì»´í¬ë„ŒíŠ¸

ë²ˆë“¤ì— í¬í•¨ë˜ëŠ” ê²ƒ:

```jsx
// ì„œë²„ ì»´í¬ë„ŒíŠ¸ (ê¸°ë³¸)
async function UserList() {
  const users = await db.users.findMany();  // ì„œë²„ì—ì„œ ì‹¤í–‰
  
  return (
    <ul>
      {users.map(user => <li key={user.id}>{user.name}</li>)}
    </ul>
  );
}

// ë¸Œë¼ìš°ì €ì— ì „ì†¡ë˜ëŠ” ê²ƒ:
// - HTML: <ul><li>John</li><li>Jane</li></ul>
// - JavaScript: 0KB! (ì»´í¬ë„ŒíŠ¸ ì½”ë“œ ì „ì†¡ ì•ˆë¨)
```

```jsx
// í´ë¼ì´ì–¸íŠ¸ ì»´í¬ë„ŒíŠ¸
'use client';

function Counter() {
  const [count, setCount] = useState(0);  // ë¸Œë¼ìš°ì €ì—ì„œ ì‹¤í–‰
  
  return <button onClick={() => setCount(count + 1)}>{count}</button>;
}

// ë¸Œë¼ìš°ì €ì— ì „ì†¡ë˜ëŠ” ê²ƒ:
// - HTML: <button>0</button>
// - JavaScript: Counter ì»´í¬ë„ŒíŠ¸ ì „ì²´ ì½”ë“œ + React runtime
```

###  ì„œë²„ ì•¡ì…˜ì˜ ë™ì‘ ì›ë¦¬

ê¸°ì¡´ ë°©ì‹ (API Route):

```
í´ë¼ì´ì–¸íŠ¸ â†’ POST /api/create-post
           â†“
       API Route í•¸ë“¤ëŸ¬
           â†“
       DBì— ì €ì¥
           â†“
       ì‘ë‹µ ë°˜í™˜
           â†“
     í´ë¼ì´ì–¸íŠ¸ê°€ ë°›ìŒ

ë¬¸ì œ: íƒ€ì… ì•ˆì „ì„± â†“, ë³´ì¼ëŸ¬í”Œë ˆì´íŠ¸ â†‘
```

ì„œë²„ ì•¡ì…˜:

```
í´ë¼ì´ì–¸íŠ¸ â†’ ì„œë²„ ì•¡ì…˜ í˜¸ì¶œ (RPCì²˜ëŸ¼!)
           â†“
       Next.jsê°€ ìë™ìœ¼ë¡œ POST ìš”ì²­ ìƒì„±
           â†“
       ì„œë²„ì—ì„œ í•¨ìˆ˜ ì‹¤í–‰
           â†“
       DBì— ì €ì¥
           â†“
       ìë™ ìºì‹œ ë¬´íš¨í™”
           â†“
     ê²°ê³¼ ë°˜í™˜

ì¥ì : íƒ€ì… ì•ˆì „ â†‘, ì½”ë“œ ê°„ê²° â†‘, ìë™ ìµœì í™”
```

ì‹¤ì œ ë„¤íŠ¸ì›Œí¬ ìš”ì²­:

```
POST /_next/data/XYZ/actions/createPost
Content-Type: multipart/form-data

{
  "0": "title value",
  "1": "content value"
}
```

Next.jsê°€ ìë™ìœ¼ë¡œ:

1. í¼ ë°ì´í„°ë¥¼ ì§ë ¬í™”
2. POST ìš”ì²­ ìƒì„±
3. ì„œë²„ì—ì„œ í•¨ìˆ˜ ì‹¤í–‰
4. ì‘ë‹µ ì²˜ë¦¬
5. ìºì‹œ ë¬´íš¨í™”

###  ì‹¤ë¬´ TIP: "ì„œë²„ ì»´í¬ë„ŒíŠ¸ì˜ ì¥ì ì€?"

ë‹µë³€ ì˜ˆì‹œ:

"ì„œë²„ ì»´í¬ë„ŒíŠ¸ì˜ í•µì‹¬ ì¥ì ì€ ë²ˆë“¤ í¬ê¸° ì œë¡œì´ë‹¤.

ë™ì‘ ì›ë¦¬:
ì„œë²„ ì»´í¬ë„ŒíŠ¸ëŠ” ì„œë²„ì—ì„œë§Œ ì‹¤í–‰ë˜ê³ , ê²°ê³¼ HTMLë§Œ í´ë¼ì´ì–¸íŠ¸ë¡œ ì „ì†¡ëœë‹¤. ì»´í¬ë„ŒíŠ¸ ì½”ë“œ ìì²´ëŠ” JavaScript ë²ˆë“¤ì— í¬í•¨ë˜ì§€ ì•Šë‹¤.

ì‹¤ë¬´ íš¨ê³¼:

- ëŒ€ì‹œë³´ë“œ í˜ì´ì§€ì— ì°¨íŠ¸ ë¼ì´ë¸ŒëŸ¬ë¦¬(1MB) ì‚¬ìš© ì‹œ
  - CSR: 1MBë¥¼ ë¸Œë¼ìš°ì €ê°€ ë‹¤ìš´ë¡œë“œ
  - ì„œë²„ ì»´í¬ë„ŒíŠ¸: ì„œë²„ì—ì„œ ì°¨íŠ¸ ìƒì„± â†’ SVG/HTMLë§Œ ì „ì†¡ â†’ 0KB!

ì¶”ê°€ ì¥ì :

1. DB ì§ì ‘ ì ‘ê·¼: API ë ˆì´ì–´ ë¶ˆí•„ìš”
2. ë¯¼ê° ì •ë³´ ë³´í˜¸: API í‚¤ê°€ í´ë¼ì´ì–¸íŠ¸ ë…¸ì¶œ ì•ˆë¨
3. SEO ìµœì í™”: ì™„ì„±ëœ HTML ì „ì†¡

ì£¼ì˜ì‚¬í•­:
ì¸í„°ë™í‹°ë¸Œ í•„ìš” ì‹œ í´ë¼ì´ì–¸íŠ¸ ì»´í¬ë„ŒíŠ¸ ì‚¬ìš©. í•˜ì§€ë§Œ ì „ì²´ê°€ ì•„ë‹ˆë¼ í•„ìš”í•œ ë¶€ë¶„ë§Œ `'use client'`ë¡œ ë¶„ë¦¬í•˜ì—¬ ë²ˆë“¤ í¬ê¸° ìµœì†Œí™”í•  ìˆ˜ ìˆë‹¤."

íŠ¹ì§•:

- API ë¼ìš°íŠ¸ ë¶ˆí•„ìš”
- íƒ€ì… ì•ˆì „
- í¼ ì œì¶œ ìµœì í™”
- ìë™ ë¦¬ë‹¤ì´ë ‰íŠ¸

### ê¸°ë³¸ ì‚¬ìš©ë²•

```jsx
// app/actions.js
'use server';

export async function createPost(formData) {
  const title = formData.get('title');
  const content = formData.get('content');
  
  // ë°ì´í„°ë² ì´ìŠ¤ì— ì €ì¥
  await db.posts.create({
    data: { title, content }
  });
  
  // ìºì‹œ ë¬´íš¨í™”
  revalidatePath('/posts');
  
  // ë¦¬ë‹¤ì´ë ‰íŠ¸
  redirect('/posts');
}
```

```jsx
// app/posts/new/page.jsx
import { createPost } from '../actions';

export default function NewPost() {
  return (
    <form action={createPost}>
      <input name="title" required />
      <textarea name="content" required />
      <button type="submit">Create Post</button>
    </form>
  );
}
```

### í´ë¼ì´ì–¸íŠ¸ì—ì„œ í˜¸ì¶œ

```jsx
'use client';

import { createPost } from './actions';
import { useState } from 'react';

export default function CreatePostForm() {
  const [pending, setPending] = useState(false);

  async function handleSubmit(formData) {
    setPending(true);
    await createPost(formData);
    setPending(false);
  }

  return (
    <form action={handleSubmit}>
      <input name="title" />
      <button type="submit" disabled={pending}>
        {pending ? 'Creating...' : 'Create'}
      </button>
    </form>
  );
}
```

### useFormStatus Hook

```jsx
'use client';

import { useFormStatus } from 'react-dom';

function SubmitButton() {
  const { pending } = useFormStatus();
  
  return (
    <button type="submit" disabled={pending}>
      {pending ? 'Submitting...' : 'Submit'}
    </button>
  );
}

export default function Form() {
  return (
    <form action={createPost}>
      <input name="title" />
      <SubmitButton />
    </form>
  );
}
```

### useFormState Hook

```jsx
'use client';

import { useFormState } from 'react-dom';
import { createPost } from './actions';

export default function Form() {
  const [state, formAction] = useFormState(createPost, {
    message: '',
    errors: {}
  });

  return (
    <form action={formAction}>
      <input name="title" />
      {state.errors?.title && <p>{state.errors.title}</p>}
      
      <input name="email" />
      {state.errors?.email && <p>{state.errors.email}</p>}
      
      <button type="submit">Submit</button>
      {state.message && <p>{state.message}</p>}
    </form>
  );
}
```

### ì„œë²„ ì•¡ì…˜ ê²€ì¦

```jsx
'use server';

import { z } from 'zod';
import { revalidatePath } from 'next/cache';

const schema = z.object({
  title: z.string().min(1).max(100),
  content: z.string().min(10),
});

export async function createPost(prevState, formData) {
  const validatedFields = schema.safeParse({
    title: formData.get('title'),
    content: formData.get('content'),
  });

  if (!validatedFields.success) {
    return {
      errors: validatedFields.error.flatten().fieldErrors,
      message: 'Validation failed',
    };
  }

  const { title, content } = validatedFields.data;

  try {
    await db.posts.create({
      data: { title, content },
    });
  } catch (error) {
    return {
      message: 'Database error',
    };
  }

  revalidatePath('/posts');
  redirect('/posts');
}
```

---
## ìŠ¤íŠ¸ë¦¬ë° SSR
### Suspenseë¥¼ ì‚¬ìš©í•œ ìŠ¤íŠ¸ë¦¬ë°
```jsx
import { Suspense } from 'react';
export default function Page() {
  return (
    <div>
      <h1>My Blog</h1>
      
      {/* ì¦‰ì‹œ ë Œë”ë§ */}
      <Suspense fallback={<PostsSkeleton />}>
        <Posts />
      </Suspense>
      
      {/* ì¦‰ì‹œ ë Œë”ë§ */}
      <Suspense fallback={<CommentsSkeleton />}>
        <Comments />
      </Suspense>
    </div>
  );
}
async function Posts() {
  const posts = await fetchPosts();
  return (
    <ul>
      {posts.map(post => (
        <li key={post.id}>{post.title}</li>
      ))}
    </ul>
  );
}
async function Comments() {
  const comments = await fetchComments();
  return (
    <ul>
      {comments.map(comment => (
        <li key={comment.id}>{comment.text}</li>
      ))}
    </ul>
  );
}
```
### Loading.js
```jsx
// app/dashboard/loading.jsx
export default function Loading() {
  return <DashboardSkeleton />;
}
```
```jsx
// app/dashboard/page.jsx
export default async function Dashboard() {
  const data = await fetchDashboardData();
  return <DashboardContent data={data} />;
}
```
### ì¤‘ì²©ëœ Suspense
```jsx
export default function Page() {
  return (
    <Suspense fallback={<PageSkeleton />}>
      <Header />
      
      <Suspense fallback={<NavSkeleton />}>
        <Nav />
      </Suspense>
      
      <Main>
        <Suspense fallback={<PostsSkeleton />}>
          <Posts />
        </Suspense>
        
        <Sidebar>
          <Suspense fallback={<WidgetSkeleton />}>
            <PopularPosts />
          </Suspense>
        </Sidebar>
      </Main>
    </Suspense>
  );
}
```
---

## ISR (Incremental Static Regeneration)

### ê¸°ë³¸ ISR

```jsx
// app/posts/[id]/page.jsx
export const revalidate = 60; // 60ì´ˆë§ˆë‹¤ ì¬ìƒì„±

export default async function Post({ params }) {
  const post = await fetchPost(params.id);
  
  return (
    <article>
      <h1>{post.title}</h1>
      <p>{post.content}</p>
    </article>
  );
}

export async function generateStaticParams() {
  const posts = await fetchPosts();
  
  return posts.map((post) => ({
    id: post.id.toString(),
  }));
}
```

### On-Demand Revalidation

```jsx
// app/api/revalidate/route.js
import { revalidatePath, revalidateTag } from 'next/cache';
import { NextResponse } from 'next/server';

export async function POST(request) {
  const { path, tag } = await request.json();

  if (path) {
    revalidatePath(path);
    return NextResponse.json({ revalidated: true, path });
  }

  if (tag) {
    revalidateTag(tag);
    return NextResponse.json({ revalidated: true, tag });
  }

  return NextResponse.json({ revalidated: false });
}
```

```jsx
// íŠ¹ì • ê²½ë¡œ ì¬ê²€ì¦
fetch('/api/revalidate', {
  method: 'POST',
  body: JSON.stringify({ path: '/posts/1' }),
});

// íƒœê·¸ë¡œ ì¬ê²€ì¦
fetch('/api/revalidate', {
  method: 'POST',
  body: JSON.stringify({ tag: 'posts' }),
});
```

### íƒœê·¸ ê¸°ë°˜ ìºì‹œ

```jsx
// app/posts/page.jsx
export default async function Posts() {
  const posts = await fetch('https://api.example.com/posts', {
    next: { tags: ['posts'] }
  }).then(res => res.json());

  return (
    <ul>
      {posts.map(post => (
        <li key={post.id}>{post.title}</li>
      ))}
    </ul>
  );
}
```

```jsx
// app/actions.js
'use server';

import { revalidateTag } from 'next/cache';

export async function createPost(data) {
  await db.posts.create({ data });
  revalidateTag('posts'); // 'posts' íƒœê·¸ë¥¼ ê°€ì§„ ëª¨ë“  ìºì‹œ ë¬´íš¨í™”
}
```

---
## Middleware
### ê¸°ë³¸ Middleware
```jsx
// middleware.js
import { NextResponse } from 'next/server';
export function middleware(request) {
  // ìš”ì²­ ë¡œê¹…
  console.log('Request:', request.nextUrl.pathname);
  // í—¤ë” ì¶”ê°€
  const response = NextResponse.next();
  response.headers.set('x-custom-header', 'my-value');
  return response;
}
export const config = {
  matcher: ['/dashboard/:path*', '/admin/:path*'],
};
```
### ì¸ì¦ Middleware
```jsx
// middleware.js
import { NextResponse } from 'next/server';
export function middleware(request) {
  const token = request.cookies.get('token');
  if (!token && request.nextUrl.pathname.startsWith('/dashboard')) {
    return NextResponse.redirect(new URL('/login', request.url));
  }
  return NextResponse.next();
}
export const config = {
  matcher: '/dashboard/:path*',
};
```
### êµ­ì œí™” Middleware
```jsx
// middleware.js
import { NextResponse } from 'next/server';
const locales = ['en', 'ko', 'ja'];
const defaultLocale = 'en';
export function middleware(request) {
  const pathname = request.nextUrl.pathname;
  // ì´ë¯¸ ë¡œì¼€ì¼ì´ ìˆìœ¼ë©´ íŒ¨ìŠ¤
  const pathnameHasLocale = locales.some(
    (locale) => pathname.startsWith(`/${locale}/`) || pathname === `/${locale}`
  );
  if (pathnameHasLocale) return;
  // Accept-Language í—¤ë”ì—ì„œ ë¡œì¼€ì¼ ê°€ì ¸ì˜¤ê¸°
  const locale = request.headers.get('accept-language')?.split(',')[0] || defaultLocale;
  // ë¡œì¼€ì¼ ì¶”ê°€í•˜ì—¬ ë¦¬ë‹¤ì´ë ‰íŠ¸
  return NextResponse.redirect(
    new URL(`/${locale}${pathname}`, request.url)
  );
}
export const config = {
  matcher: ['/((?!api|_next/static|_next/image|favicon.ico).*)'],
};
```
### A/B í…ŒìŠ¤íŠ¸ Middleware
```jsx
// middleware.js
import { NextResponse } from 'next/server';
export function middleware(request) {
  // ì¿ í‚¤ì—ì„œ ë²„í‚· í™•ì¸
  let bucket = request.cookies.get('bucket');
  if (!bucket) {
    // ëœë¤í•˜ê²Œ A ë˜ëŠ” B í• ë‹¹
    bucket = Math.random() < 0.5 ? 'a' : 'b';
    const response = NextResponse.next();
    response.cookies.set('bucket', bucket);
    return response;
  }
  // ë²„í‚·ì— ë”°ë¼ ë‹¤ë¥¸ í˜ì´ì§€ë¡œ ë¦¬ë¼ì´íŠ¸
  if (bucket === 'b') {
    return NextResponse.rewrite(new URL('/experiment-b', request.url));
  }
  return NextResponse.next();
}
```
---

## API Routes ê³ ê¸‰

### Route Handlers (App Router)

```jsx
// app/api/posts/route.js
import { NextResponse } from 'next/server';

// GET /api/posts
export async function GET(request) {
  const { searchParams } = new URL(request.url);
  const page = searchParams.get('page') || '1';

  const posts = await db.posts.findMany({
    skip: (parseInt(page) - 1) * 10,
    take: 10,
  });

  return NextResponse.json(posts);
}

// POST /api/posts
export async function POST(request) {
  const body = await request.json();

  const post = await db.posts.create({
    data: body,
  });

  return NextResponse.json(post, { status: 201 });
}
```

### ë™ì  Route Handlers

```jsx
// app/api/posts/[id]/route.js
import { NextResponse } from 'next/server';

// GET /api/posts/:id
export async function GET(request, { params }) {
  const post = await db.posts.findUnique({
    where: { id: params.id },
  });

  if (!post) {
    return NextResponse.json(
      { error: 'Post not found' },
      { status: 404 }
    );
  }

  return NextResponse.json(post);
}

// PUT /api/posts/:id
export async function PUT(request, { params }) {
  const body = await request.json();

  const post = await db.posts.update({
    where: { id: params.id },
    data: body,
  });

  return NextResponse.json(post);
}

// DELETE /api/posts/:id
export async function DELETE(request, { params }) {
  await db.posts.delete({
    where: { id: params.id },
  });

  return new NextResponse(null, { status: 204 });
}
```

### ìŠ¤íŠ¸ë¦¬ë° ì‘ë‹µ

```jsx
// app/api/stream/route.js
export async function GET() {
  const encoder = new TextEncoder();

  const stream = new ReadableStream({
    async start(controller) {
      for (let i = 0; i < 10; i++) {
        await new Promise((resolve) => setTimeout(resolve, 1000));
        controller.enqueue(encoder.encode(`data: ${i}\n\n`));
      }
      controller.close();
    },
  });

  return new Response(stream, {
    headers: {
      'Content-Type': 'text/event-stream',
      'Cache-Control': 'no-cache',
      'Connection': 'keep-alive',
    },
  });
}
```

### CORS ì„¤ì •

```jsx
// app/api/posts/route.js
import { NextResponse } from 'next/server';

export async function GET(request) {
  const posts = await fetchPosts();

  return NextResponse.json(posts, {
    headers: {
      'Access-Control-Allow-Origin': '*',
      'Access-Control-Allow-Methods': 'GET, POST, PUT, DELETE, OPTIONS',
      'Access-Control-Allow-Headers': 'Content-Type, Authorization',
    },
  });
}

export async function OPTIONS(request) {
  return new NextResponse(null, {
    status: 200,
    headers: {
      'Access-Control-Allow-Origin': '*',
      'Access-Control-Allow-Methods': 'GET, POST, PUT, DELETE, OPTIONS',
      'Access-Control-Allow-Headers': 'Content-Type, Authorization',
    },
  });
}
```

---
## ì´ë¯¸ì§€ ìµœì í™”
### next/image ê³ ê¸‰ ì‚¬ìš©
```jsx
import Image from 'next/image';
export default function Gallery() {
  return (
    <div>
      {/* ë°˜ì‘í˜• ì´ë¯¸ì§€ */}
      <Image
        src="/hero.jpg"
        alt="Hero"
        fill
        sizes="(max-width: 768px) 100vw, (max-width: 1200px) 50vw, 33vw"
        style={{ objectFit: 'cover' }}
      />
      {/* ìš°ì„ ìˆœìœ„ ì´ë¯¸ì§€ (LCP ìµœì í™”) */}
      <Image
        src="/hero.jpg"
        alt="Hero"
        width={1200}
        height={600}
        priority
      />
      {/* ë¸”ëŸ¬ í”Œë ˆì´ìŠ¤í™€ë” */}
      <Image
        src="/photo.jpg"
        alt="Photo"
        width={500}
        height={300}
        placeholder="blur"
        blurDataURL="data:image/jpeg;base64,..."
      />
      {/* ì™¸ë¶€ ì´ë¯¸ì§€ */}
      <Image
        src="https://example.com/photo.jpg"
        alt="External"
        width={500}
        height={300}
        unoptimized={false}
      />
    </div>
  );
}
```
### ì´ë¯¸ì§€ ë¡œë”
```jsx
// next.config.js
module.exports = {
  images: {
    loader: 'custom',
    loaderFile: './image-loader.js',
  },
};
```
```jsx
// image-loader.js
export default function cloudinaryLoader({ src, width, quality }) {
  const params = ['f_auto', 'c_limit', `w_${width}`, `q_${quality || 'auto'}`];
  return `https://res.cloudinary.com/demo/image/upload/${params.join(',')}${src}`;
}
```
### ë™ì  ë¸”ëŸ¬ í”Œë ˆì´ìŠ¤í™€ë”
```jsx
import { getPlaiceholder } from 'plaiceholder';
export default async function Post({ params }) {
  const post = await fetchPost(params.id);
  
  const { base64 } = await getPlaiceholder(post.imageUrl);
  return (
    <Image
      src={post.imageUrl}
      alt={post.title}
      width={800}
      height={600}
      placeholder="blur"
      blurDataURL={base64}
    />
  );
}
```
---

## ì‹¤ì „ ì˜ˆì œ: ë¸”ë¡œê·¸ í”Œë«í¼

```jsx
// app/posts/page.jsx
export const revalidate = 3600; // 1ì‹œê°„ë§ˆë‹¤

export default async function Posts() {
  const posts = await fetch('https://api.example.com/posts', {
    next: { tags: ['posts'] }
  }).then(res => res.json());

  return (
    <div>
      <h1>Blog Posts</h1>
      <Suspense fallback={<PostsSkeleton />}>
        <PostList posts={posts} />
      </Suspense>
    </div>
  );
}
```

```jsx
// app/actions.js
'use server';

import { revalidateTag } from 'next/cache';
import { redirect } from 'next/navigation';

export async function createPost(formData) {
  const title = formData.get('title');
  const content = formData.get('content');

  await db.posts.create({
    data: { title, content },
  });

  revalidateTag('posts');
  redirect('/posts');
}

export async function deletePost(id) {
  await db.posts.delete({
    where: { id },
  });

  revalidateTag('posts');
}
```

```jsx
// middleware.js
import { NextResponse } from 'next/server';

export function middleware(request) {
  const token = request.cookies.get('auth-token');

  // ì¸ì¦ í•„ìš”í•œ ê²½ë¡œ
  if (request.nextUrl.pathname.startsWith('/admin')) {
    if (!token) {
      return NextResponse.redirect(new URL('/login', request.url));
    }
  }

  // ë¡œê¹…
  console.log(`[${new Date().toISOString()}] ${request.method} ${request.url}`);

  return NextResponse.next();
}

export const config = {
  matcher: ['/admin/:path*', '/api/:path*'],
};
```

---
## Nuxtì™€ ë¹„êµ
| ê¸°ëŠ¥ | Next.js | Nuxt |
|------|---------|------|
| ì„œë²„ ì•¡ì…˜ | Server Actions | Server Routes |
| ISR | revalidate | ISR (Nitro) |
| Middleware | middleware.js | Server Middleware |
| ì´ë¯¸ì§€ ìµœì í™” | next/image | nuxt/image |
| API Routes | app/api | server/api |
```javascript
// Nuxt: Server Routes
// server/api/posts.post.js
export default defineEventHandler(async (event) => {
  const body = await readBody(event)
  const post = await db.posts.create({ data: body })
  return post
})
```
```jsx
// Next.js: Route Handlers
// app/api/posts/route.js
export async function POST(request) {
  const body = await request.json()
  const post = await db.posts.create({ data: body })
  return NextResponse.json(post)
}
```
---

## ë‹¤ìŒ ë‹¨ê³„

### í•™ìŠµ ì²´í¬ë¦¬ìŠ¤íŠ¸

- [ ] ì„œë²„ ì•¡ì…˜ì„ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤
- [ ] Suspenseë¡œ ìŠ¤íŠ¸ë¦¬ë° SSRì„ êµ¬í˜„í•  ìˆ˜ ìˆë‹¤
- [ ] ISRì„ í™œìš©í•  ìˆ˜ ìˆë‹¤
- [ ] Middlewareë¡œ ìš”ì²­ì„ ì²˜ë¦¬í•  ìˆ˜ ìˆë‹¤
- [ ] Route Handlersë¥¼ ì‘ì„±í•  ìˆ˜ ìˆë‹¤
- [ ] ì´ë¯¸ì§€ë¥¼ ìµœì í™”í•  ìˆ˜ ìˆë‹¤
- [ ] ìºì‹œ ì „ëµì„ ì´í•´í•œë‹¤

### ì¶”ê°€ í•™ìŠµ ìë£Œ

- [Next.js ê³µì‹ ë¬¸ì„œ](https://nextjs.org/docs)
- [Server Actions](https://nextjs.org/docs/app/building-your-application/data-fetching/server-actions-and-mutations)
- [Caching](https://nextjs.org/docs/app/building-your-application/caching)

ëª¨ë“  í•­ëª©ì„ ì²´í¬í–ˆë‹¤ë©´ ë‹¤ìŒ ì£¼ì œë¡œ ë„˜ì–´ê°€ì„¸ìš”! 
