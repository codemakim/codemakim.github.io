---
title: "[React ê¸°ì´ˆ 3-5/8] Reducerë¡œ State ë¡œì§ ì¶”ì¶œí•˜ê¸°"
date: "2025-07-27"
description: "useReducer Hookì„ ì‚¬ìš©í•´ ë³µì¡í•œ State ë¡œì§ì„ ê´€ë¦¬í•˜ëŠ” ë°©ë²•ì„ í•™ìŠµí•œë‹¤"
tags: ["React", "í•™ìŠµ", "Vue", "ì´ˆê¸‰", "í”„ë¡ íŠ¸ì—”ë“œ"]
series: "React ê¸°ì´ˆ"
seriesOrder: 23
---

# React í•™ìŠµ ê°€ì´ë“œ - Reducerë¡œ State ë¡œì§ ì¶”ì¶œí•˜ê¸°

---

## Reducerë¡œ State ë¡œì§ ì¶”ì¶œí•˜ê¸°

### Reducerë€ ë¬´ì—‡ì¸ê°€?

ReducerëŠ” "í˜„ì¬ ìƒíƒœ + ì•¡ì…˜ â†’ ìƒˆë¡œìš´ ìƒíƒœ"ë¥¼ ê³„ì‚°í•˜ëŠ” ìˆœìˆ˜ í•¨ìˆ˜ì´ë‹¤.

```javascript
// Reducerì˜ ê¸°ë³¸ í˜•íƒœ
function reducer(currentState, action) {
  // actionì— ë”°ë¼ ìƒˆë¡œìš´ stateë¥¼ ê³„ì‚°í•´ì„œ ë°˜í™˜
  return newState;
}
```

#### ì´ë¦„ì˜ ìœ ë˜

Reducerë¼ëŠ” ì´ë¦„ì€ JavaScript ë°°ì—´ì˜ `reduce()` ë©”ì„œë“œì—ì„œ ìœ ë˜í–ˆë‹¤:

```javascript
// ë°°ì—´ì˜ reduce: ì—¬ëŸ¬ ê°’ì„ í•˜ë‚˜ë¡œ ì¶•ì•½
const numbers = [1, 2, 3, 4, 5];
const sum = numbers.reduce((accumulator, current) => accumulator + current, 0);
// 15 (ëˆ„ì ëœ ê²°ê³¼)
// Reactì˜ Reducer: ì—¬ëŸ¬ ì•¡ì…˜ì„ í†µí•´ stateë¥¼ ëˆ„ì /ë³€ê²½
function counterReducer(state, action) {
  // ì´ì „ state + í˜„ì¬ action â†’ ìƒˆë¡œìš´ state
  return state + action.value;
}
```

ë‘˜ ë‹¤ "ì´ì „ ê²°ê³¼ + ìƒˆë¡œìš´ ì…ë ¥ â†’ ë‹¤ìŒ ê²°ê³¼"ë¥¼ ê³„ì‚°í•˜ëŠ” íŒ¨í„´ì´ë‹¤.

#### í•µì‹¬ ê°œë…: 3ìš”ì†Œ

```
ğŸ“¦ í˜„ì¬ State  +  ğŸ¬ Action  â†’  ğŸ“¦ ìƒˆë¡œìš´ State
    (tasks)        ({type: 'added'})    (tasks + ìƒˆ í• ì¼)
```

ë™ì‘ íë¦„:

```
1. ì‚¬ìš©ìê°€ ë²„íŠ¼ í´ë¦­
   â†“
2. dispatch({ type: 'added', text: 'ìƒˆ í• ì¼' })  â† ì•¡ì…˜ ì „ë‹¬
   â†“
3. reducer(currentState, action)  â† í•¨ìˆ˜ ì‹¤í–‰
   â†“
4. ìƒˆë¡œìš´ state ë°˜í™˜
   â†“
5. ì»´í¬ë„ŒíŠ¸ ë¦¬ë Œë”ë§
```

ì´ íŒ¨í„´ì˜ í•µì‹¬ì€ "ë¬´ì—‡ì„(what) í• ì§€"ë§Œ ì„ ì–¸í•˜ê³ , "ì–´ë–»ê²Œ(how)"ëŠ” reducerê°€ ì²˜ë¦¬í•œë‹¤ëŠ” ì ì´ë‹¤.

#### State ìŠ¤ëƒ…ìƒ·ê³¼ Reducer

Reducerë„ State ìŠ¤ëƒ…ìƒ· ê°œë…ì„ ê·¸ëŒ€ë¡œ ë”°ë¥¸ë‹¤. reducer í•¨ìˆ˜ê°€ ë°›ëŠ” `state`ëŠ” í˜„ì¬ ë Œë”ë§ ì‹œì ì˜ ìŠ¤ëƒ…ìƒ·ì´ë‹¤.

```jsx
function tasksReducer(tasks, action) {
  // tasksëŠ” í˜„ì¬ ë Œë”ë§ ì‹œì ì˜ ìŠ¤ëƒ…ìƒ·
  // actionì€ ì´ë²ˆ ì—…ë°ì´íŠ¸ì—ì„œ ë°œìƒí•œ ì´ë²¤íŠ¸
  switch (action.type) {
    case "added":
      return [...tasks, newTask]; // ìƒˆ ë°°ì—´ ë°˜í™˜ (ë¶ˆë³€ì„± ìœ ì§€)
  }
}
```

dispatchë¥¼ ì—¬ëŸ¬ ë²ˆ í˜¸ì¶œí•´ë„ ê° reducer í˜¸ì¶œì€ ë…ë¦½ì ìœ¼ë¡œ ë™ì‘í•œë‹¤:

```jsx
// ê°™ì€ ë Œë”ë§ì—ì„œ ì—¬ëŸ¬ dispatch í˜¸ì¶œ
dispatch({ type: "added", text: "í• ì¼ 1" });
dispatch({ type: "added", text: "í• ì¼ 2" });
// ê° reducer í˜¸ì¶œì€ ê°™ì€ tasks ìŠ¤ëƒ…ìƒ·ì„ ë°›ìŒ
// ReactëŠ” ëª¨ë“  dispatchë¥¼ ì²˜ë¦¬í•œ í›„ í•œ ë²ˆë§Œ ë¦¬ë Œë”ë§
```

ì´ì „ì— ë°°ìš´ State ìŠ¤ëƒ…ìƒ· ê°œë…ì´ reducerì—ë„ ë™ì¼í•˜ê²Œ ì ìš©ëœë‹¤.

### ì–¸ì œ Reducerë¥¼ ì‚¬ìš©í•´ì•¼ í• ê¹Œ?

#### useState vs useReducer ë¹„êµ

| ê¸°ì¤€          | useState                              | useReducer                              |
| ------------- | ------------------------------------- | --------------------------------------- |
| ì í•©í•œ ê²½ìš°   | ê°„ë‹¨í•œ state (ìˆ«ì, ë¬¸ìì—´, boolean)  | ë³µì¡í•œ state (ê°ì²´, ë°°ì—´, ì—¬ëŸ¬ ê´€ë ¨ ê°’) |
| ì—…ë°ì´íŠ¸ ë°©ì‹ | `setState(newValue)` ì§ì ‘ í˜¸ì¶œ        | `dispatch(action)` ì˜ë„ ì „ë‹¬            |
| ë¡œì§ ìœ„ì¹˜     | ì—¬ëŸ¬ ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ì— ë¶„ì‚°             | reducer í•¨ìˆ˜ í•˜ë‚˜ì— ì§‘ì¤‘                |
| í…ŒìŠ¤íŠ¸        | ì»´í¬ë„ŒíŠ¸ ì „ì²´ í…ŒìŠ¤íŠ¸ í•„ìš”             | reducer í•¨ìˆ˜ë§Œ ë…ë¦½ í…ŒìŠ¤íŠ¸              |
| ë””ë²„ê¹…        | ì–´ë””ì„œ stateê°€ ë³€ê²½ë˜ëŠ”ì§€ ì¶”ì  ì–´ë ¤ì›€ | ì•¡ì…˜ ë¡œê·¸ë¡œ ë³€ê²½ ì´ë ¥ ì¶”ì  ì‰¬ì›€         |
| ì½”ë“œ ì¬ì‚¬ìš©   | ì¬ì‚¬ìš© ì–´ë ¤ì›€                         | reducer í•¨ìˆ˜ë¥¼ ë‹¤ë¥¸ ê³³ì—ì„œ ì¬ì‚¬ìš© ê°€ëŠ¥  |

#### ì‹¤ìš©ì  íŒë‹¨ ê¸°ì¤€

useStateë¥¼ ì¨ë¼:

```jsx
// ë‹¨ìˆœí•œ ê°’ í•˜ë‚˜ë§Œ ê´€ë¦¬
const [count, setCount] = useState(0);
const [isOpen, setIsOpen] = useState(false);
```

useReducerë¥¼ ê³ ë ¤í•˜ë¼:

```jsx
//  ì—¬ëŸ¬ ê´€ë ¨ëœ stateë¥¼ í•¨ê»˜ ì—…ë°ì´íŠ¸
//  ë‹¤ìŒ stateê°€ ì´ì „ stateì— ë³µì¡í•˜ê²Œ ì˜ì¡´
//  3ê°œ ì´ìƒì˜ ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ê°€ ê°™ì€ stateë¥¼ ì—…ë°ì´íŠ¸
const [state, dispatch] = useReducer(reducer, {
  tasks: [],
  selectedId: null,
  filter: "all",
});
```

ê²½í—˜ ë²•ì¹™:

- `setState`ë¥¼ 5ë²ˆ ì´ìƒ í˜¸ì¶œí•˜ëŠ” ì»´í¬ë„ŒíŠ¸ â†’ useReducer ê²€í† 
- state ì—…ë°ì´íŠ¸ ë¡œì§ì´ ë³µì¡í•´ì„œ ë²„ê·¸ê°€ ìì£¼ ìƒê¹€ â†’ useReducerë¡œ ì „í™˜

### Reducerê°€ í•„ìš”í•œ ì´ìœ 

ì»´í¬ë„ŒíŠ¸ê°€ ë³µì¡í•´ì§€ë©´ state ì—…ë°ì´íŠ¸ ë¡œì§ì„ ì¶”ì í•˜ê¸° ì–´ë ¤ì›Œì§‘ë‹ˆë‹¤.
ë§ì€ ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ì— ê±¸ì³ state ì—…ë°ì´íŠ¸ê°€ ë¶„ì‚°ë˜ë©´ ë³µì¡í•´ì§‘ë‹ˆë‹¤.

```jsx
//  ë³µì¡í•¨: ì—¬ëŸ¬ í•¸ë“¤ëŸ¬ì— ë¶„ì‚°ëœ state ì—…ë°ì´íŠ¸
function TaskApp() {
  const [tasks, setTasks] = useState(initialTasks);
  function handleAddTask(text) {
    setTasks([
      ...tasks,
      {
        id: nextId++,
        text: text,
        done: false,
      },
    ]);
  }
  function handleChangeTask(task) {
    setTasks(
      tasks.map((t) => {
        if (t.id === task.id) {
          return task;
        } else {
          return t;
        }
      }),
    );
  }
  function handleDeleteTask(taskId) {
    setTasks(tasks.filter((t) => t.id !== taskId));
  }

  // í•¸ë“¤ëŸ¬ê°€ ë„ˆë¬´ ë§ìŒ...
}
```

Reducerë¡œ í†µí•©:

```jsx
//  ê°„ê²°í•¨: ëª¨ë“  ì—…ë°ì´íŠ¸ ë¡œì§ì„ reducerì— í†µí•©
function TaskApp() {
  const [tasks, dispatch] = useReducer(tasksReducer, initialTasks);
  function handleAddTask(text) {
    dispatch({ type: "added", id: nextId++, text: text });
  }
  function handleChangeTask(task) {
    dispatch({ type: "changed", task: task });
  }
  function handleDeleteTask(taskId) {
    dispatch({ type: "deleted", id: taskId });
  }
}
```

### useReducer Hook ì´í•´í•˜ê¸°

useReducerëŠ” Reactì—ì„œ ì œê³µí•˜ëŠ” Hookìœ¼ë¡œ, reducer í•¨ìˆ˜ë¥¼ í†µí•´ stateë¥¼ ê´€ë¦¬í•œë‹¤.

#### ê¸°ë³¸ ì‚¬ìš©ë²•

```jsx
const [state, dispatch] = useReducer(reducer, initialState);
```

3ê°œì˜ ìš”ì†Œ:

1. `reducer`: stateë¥¼ ì—…ë°ì´íŠ¸í•˜ëŠ” í•¨ìˆ˜

   ```jsx
   function reducer(state, action) {
     // ë¡œì§
     return newState;
   }
   ```

2. `initialState`: ì´ˆê¸° state ê°’

   ```jsx
   const initialState = { count: 0 };
   ```

3. ë°˜í™˜ê°’: `[state, dispatch]` ë°°ì—´
   - `state`: í˜„ì¬ state ê°’
   - `dispatch`: actionì„ ì „ë‹¬í•˜ëŠ” í•¨ìˆ˜

#### ê°„ë‹¨í•œ ì˜ˆì œ: Counter

```jsx
import { useReducer } from "react";
// 1. reducer í•¨ìˆ˜ ì •ì˜
function counterReducer(state, action) {
  switch (action.type) {
    case "increment":
      return { count: state.count + 1 };
    case "decrement":
      return { count: state.count - 1 };
    case "reset":
      return { count: 0 };
    default:
      throw Error("ì•Œ ìˆ˜ ì—†ëŠ” ì•¡ì…˜: " + action.type);
  }
}
// 2. ì»´í¬ë„ŒíŠ¸ì—ì„œ ì‚¬ìš©
function Counter() {
  const [state, dispatch] = useReducer(counterReducer, { count: 0 });
  return (
    <>
      <p>Count: {state.count}</p>
      <button onClick={() => dispatch({ type: "increment" })}>+</button>
      <button onClick={() => dispatch({ type: "decrement" })}>-</button>
      <button onClick={() => dispatch({ type: "reset" })}>Reset</button>
    </>
  );
}
```

#### dispatch í•¨ìˆ˜ ì´í•´í•˜ê¸°

`dispatch`ëŠ” "ì´ëŸ° ì¼ì´ ì¼ì–´ë‚¬ì–´ìš”"ë¼ê³  Reactì—ê²Œ ì•Œë¦¬ëŠ” í•¨ìˆ˜ì´ë‹¤.

```jsx
// dispatchì— action ê°ì²´ë¥¼ ì „ë‹¬
dispatch({ type: "increment" });
// actionì—ëŠ” ì¶”ê°€ ë°ì´í„°ë„ ë‹´ì„ ìˆ˜ ìˆìŒ
dispatch({
  type: "added",
  id: 1,
  text: "ìƒˆ í• ì¼",
});
```

dispatchë¥¼ í˜¸ì¶œí•˜ë©´:

1. Reactê°€ reducer í•¨ìˆ˜ë¥¼ í˜¸ì¶œ
2. reducerê°€ ìƒˆë¡œìš´ stateë¥¼ ë°˜í™˜
3. Reactê°€ ì»´í¬ë„ŒíŠ¸ë¥¼ ë¦¬ë Œë”ë§

#### ì´ˆê¸°ê°’ ì„¤ì •í•˜ëŠ” 3ê°€ì§€ ë°©ë²•

ë°©ë²• 1: ì§ì ‘ ì „ë‹¬ (ê°€ì¥ ì¼ë°˜ì )

```jsx
const [state, dispatch] = useReducer(reducer, { count: 0 });
```

ë°©ë²• 2: ì´ˆê¸°í™” í•¨ìˆ˜ ì‚¬ìš© (ê³„ì‚° ë¹„ìš©ì´ í° ê²½ìš°)

```jsx
function init(initialCount) {
  return { count: initialCount };
}
// ì„¸ ë²ˆì§¸ ì¸ìë¡œ ì´ˆê¸°í™” í•¨ìˆ˜ ì „ë‹¬
const [state, dispatch] = useReducer(reducer, 0, init);
// init(0)ì´ í•œ ë²ˆë§Œ í˜¸ì¶œë¨
```

ë°©ë²• 3: ìƒìˆ˜ë¡œ ë¶„ë¦¬

```jsx
const INITIAL_STATE = {
  tasks: [],
  filter: "all",
};
const [state, dispatch] = useReducer(reducer, INITIAL_STATE);
```

#### useState vs useReducer êµ¬ì¡° ë¹„êµ

```jsx
// useState: ê°’ì„ ì§ì ‘ ì„¤ì •
const [count, setCount] = useState(0);
setCount(1); // ìƒˆ ê°’ ì§ì ‘ ì „ë‹¬
setCount((c) => c + 1); // í•¨ìˆ˜ë¡œ ê³„ì‚°
// useReducer: actionìœ¼ë¡œ ì˜ë„ ì „ë‹¬
const [state, dispatch] = useReducer(reducer, { count: 0 });
dispatch({ type: "set", value: 1 }); // ì˜ë„ ì „ë‹¬
dispatch({ type: "increment" }); // ì˜ë„ ì „ë‹¬
```

í•µì‹¬ ì°¨ì´:

- useState: "ì´ ê°’ìœ¼ë¡œ ë°”ê¿”ì¤˜" (ëª…ë ¹í˜•)
- useReducer: "ì´ëŸ° ì¼ì´ ì¼ì–´ë‚¬ì–´" (ì„ ì–¸í˜•)

### useStateì—ì„œ useReducerë¡œ ë§ˆì´ê·¸ë ˆì´ì…˜

Reducerë¥¼ ë„ì…í•˜ëŠ” ê²ƒì€ 3ë‹¨ê³„ë¡œ ì§„í–‰ëœë‹¤.

#### 1ë‹¨ê³„: dispatch ì•¡ì…˜ìœ¼ë¡œ ë³€ê²½

```jsx
// ì´ì „: setState ì§ì ‘ í˜¸ì¶œ
function handleAddTask(text) {
  setTasks([...tasks, { id: nextId++, text: text, done: false }]);
}
// ì´í›„: dispatchë¡œ ì•¡ì…˜ ì „ë‹¬
function handleAddTask(text) {
  dispatch({
    type: "added",
    id: nextId++,
    text: text,
  });
}
```

#### 2ë‹¨ê³„: reducer í•¨ìˆ˜ ì‘ì„±

ReducerëŠ” í˜„ì¬ stateì™€ action ê°ì²´ë¥¼ ë°›ì•„ ë‹¤ìŒ stateë¥¼ ë°˜í™˜í•˜ëŠ” í•¨ìˆ˜ì´ë‹¤.

```jsx
function tasksReducer(tasks, action) {
  switch (action.type) {
    case "added": {
      return [
        ...tasks,
        {
          id: action.id,
          text: action.text,
          done: false,
        },
      ];
    }
    case "changed": {
      return tasks.map((t) => {
        if (t.id === action.task.id) {
          return action.task;
        } else {
          return t;
        }
      });
    }
    case "deleted": {
      return tasks.filter((t) => t.id !== action.id);
    }
    default: {
      throw Error("Unknown action: " + action.type);
    }
  }
}
```

#### 3ë‹¨ê³„: useReducer ì‚¬ìš©

```jsx
import { useReducer } from "react";
function TaskApp() {
  const [tasks, dispatch] = useReducer(tasksReducer, initialTasks);

  // ...
}
```

### Reducer ì‘ì„± íŒ

Reducerë¥¼ ì‘ì„±í•  ë•Œ ì§€ì¼œì•¼ í•  ì¤‘ìš”í•œ ê·œì¹™ì´ ìˆë‹¤.

#### 1. ReducerëŠ” ìˆœìˆ˜í•´ì•¼ í•œë‹¤

```jsx
//  ë‚˜ì¨: ë¶€ì‘ìš©
function reducer(state, action) {
  switch (action.type) {
    case "increment":
      state.count++; // ëŒì—°ë³€ì´!
      return state;
  }
}
//  ì¢‹ìŒ: ìƒˆ ê°ì²´ ë°˜í™˜
function reducer(state, action) {
  switch (action.type) {
    case "increment":
      return { ...state, count: state.count + 1 };
  }
}
```

#### 2. ê° ì•¡ì…˜ì€ ë‹¨ì¼ ì‚¬ìš©ì ìƒí˜¸ì‘ìš©ì„ ì„¤ëª…í•œë‹¤

```jsx
//  ë‚˜ì¨: ì—¬ëŸ¬ ì‘ì—…ì„ í•˜ë‚˜ì˜ ì•¡ì…˜ìœ¼ë¡œ
dispatch({ type: "update_everything", newData });
//  ì¢‹ìŒ: ëª…í™•í•œ ì˜ë„
dispatch({ type: "user_logged_in", userId: 123 });
dispatch({ type: "profile_updated", profile: newProfile });
```

#### 3. ë³µì¡í•œ State êµ¬ì¡° ë‹¤ë£¨ê¸°

ì¤‘ì²©ëœ ê°ì²´ë‚˜ ë°°ì—´ì„ ì—…ë°ì´íŠ¸í•  ë•ŒëŠ” ë¶ˆë³€ì„±ì„ ìœ ì§€í•˜ë©´ì„œ ê¹Šì€ ë³µì‚¬ë¥¼ í•´ì•¼ í•œë‹¤.

```jsx
// ì¤‘ì²©ëœ ê°ì²´ ì—…ë°ì´íŠ¸
function appReducer(state, action) {
  switch (action.type) {
    case "update_user_name": {
      return {
        ...state,
        user: {
          ...state.user, // ê¸°ì¡´ user ì†ì„± ìœ ì§€
          name: action.name, // nameë§Œ ì—…ë°ì´íŠ¸
        },
      };
    }
    case "add_task_to_category": {
      return {
        ...state,
        categories: state.categories.map((category) => {
          if (category.id === action.categoryId) {
            return {
              ...category,
              tasks: [...category.tasks, action.task], // ë°°ì—´ì— ì¶”ê°€
            };
          }
          return category;
        }),
      };
    }
    default:
      return state;
  }
}
```

#### 4. ì•¡ì…˜ íƒ€ì… ì •ì˜ (TypeScript)

TypeScriptë¥¼ ì‚¬ìš©í•˜ë©´ ì•¡ì…˜ íƒ€ì…ì„ ëª…í™•íˆ ì •ì˜í•  ìˆ˜ ìˆë‹¤.

```typescript
// ì•¡ì…˜ íƒ€ì… ì •ì˜
type TaskAction =
  | { type: "added"; id: number; text: string }
  | { type: "changed"; task: Task }
  | { type: "deleted"; id: number };

// Reducerì— íƒ€ì… ì ìš©
function tasksReducer(tasks: Task[], action: TaskAction): Task[] {
  switch (action.type) {
    case "added":
      return [...tasks, { id: action.id, text: action.text, done: false }];
    case "changed":
      return tasks.map((t) => (t.id === action.task.id ? action.task : t));
    case "deleted":
      return tasks.filter((t) => t.id !== action.id);
    default:
      // TypeScriptê°€ ëª¨ë“  ì¼€ì´ìŠ¤ë¥¼ ì²˜ë¦¬í–ˆëŠ”ì§€ í™•ì¸
      const _exhaustive: never = action;
      throw Error("Unknown action");
  }
}
```

#### 5. ì—ëŸ¬ ì²˜ë¦¬

Reducerì—ì„œ ì—ëŸ¬ê°€ ë°œìƒí•˜ë©´ ReactëŠ” ì—ëŸ¬ë¥¼ ë˜ì§„ë‹¤. ë³µì¡í•œ ë¡œì§ì—ì„œëŠ” try-catchë¡œ ê°ì‹¸ê±°ë‚˜, ì•¡ì…˜ì— ì—ëŸ¬ ìƒíƒœë¥¼ í¬í•¨ì‹œí‚¬ ìˆ˜ ìˆë‹¤.

```jsx
// ë°©ë²• 1: ì•¡ì…˜ì— ì—ëŸ¬ ìƒíƒœ í¬í•¨
function tasksReducer(state, action) {
  switch (action.type) {
    case "added": {
      if (!action.text.trim()) {
        return {
          ...state,
          error: "í• ì¼ ë‚´ìš©ì„ ì…ë ¥í•˜ì„¸ìš”",
        };
      }
      return {
        tasks: [...state.tasks, newTask],
        error: null,
      };
    }
    case "clear_error":
      return { ...state, error: null };
  }
}

// ë°©ë²• 2: dispatch ì „ì— ê²€ì¦
function handleAddTask(text) {
  if (!text.trim()) {
    alert("í• ì¼ ë‚´ìš©ì„ ì…ë ¥í•˜ì„¸ìš”");
    return;
  }
  dispatch({ type: "added", text });
}
```

### ì‹¤ì „ ì˜ˆì œ: í•  ì¼ ì•±

ëª¨ë“  ê°œë…ì„ í†µí•©í•œ ì™„ì„±ëœ ì˜ˆì œë¥¼ ë³´ê² ë‹¤.

```jsx
import { useReducer } from "react";
function tasksReducer(tasks, action) {
  switch (action.type) {
    case "added": {
      return [
        ...tasks,
        {
          id: action.id,
          text: action.text,
          done: false,
        },
      ];
    }
    case "changed": {
      return tasks.map((t) => {
        if (t.id === action.task.id) {
          return action.task;
        }
        return t;
      });
    }
    case "deleted": {
      return tasks.filter((t) => t.id !== action.id);
    }
    default: {
      throw Error("Unknown action: " + action.type);
    }
  }
}
let nextId = 3;
const initialTasks = [
  { id: 0, text: "Visit Kafka Museum", done: true },
  { id: 1, text: "Watch a puppet show", done: false },
  { id: 2, text: "Lennon Wall pic", done: false },
];
export default function TaskApp() {
  const [tasks, dispatch] = useReducer(tasksReducer, initialTasks);
  function handleAddTask(text) {
    dispatch({
      type: "added",
      id: nextId++,
      text: text,
    });
  }
  function handleChangeTask(task) {
    dispatch({
      type: "changed",
      task: task,
    });
  }
  function handleDeleteTask(taskId) {
    dispatch({
      type: "deleted",
      id: taskId,
    });
  }
  return (
    <>
      <h1>Prague itinerary</h1>
      <AddTask onAddTask={handleAddTask} />
      <TaskList
        tasks={tasks}
        onChangeTask={handleChangeTask}
        onDeleteTask={handleDeleteTask}
      />
    </>
  );
}
```

### Immerë¡œ ê°„ê²°í•œ Reducer

Reducerì—ì„œë„ Immerë¥¼ ì‚¬ìš©í•˜ë©´ ë¶ˆë³€ ì—…ë°ì´íŠ¸ë¥¼ ë” ê°„ë‹¨í•˜ê²Œ ì‘ì„±í•  ìˆ˜ ìˆë‹¤.

```bash
npm install use-immer
```

```jsx
import { useImmerReducer } from "use-immer";
function tasksReducer(draft, action) {
  switch (action.type) {
    case "added": {
      draft.push({
        id: action.id,
        text: action.text,
        done: false,
      });
      break;
    }
    case "changed": {
      const task = draft.find((t) => t.id === action.task.id);
      task.text = action.task.text;
      task.done = action.task.done;
      break;
    }
    case "deleted": {
      return draft.filter((t) => t.id !== action.id);
    }
    default: {
      throw Error("Unknown action: " + action.type);
    }
  }
}
export default function TaskApp() {
  const [tasks, dispatch] = useImmerReducer(tasksReducer, initialTasks);
  // ...
}
```

### ì„±ëŠ¥ ìµœì í™” íŒ

Reducerë¥¼ ì‚¬ìš©í•  ë•Œ ì„±ëŠ¥ì„ ìµœì í™”í•˜ëŠ” ë°©ë²•ë“¤:

#### 1. ë¶ˆí•„ìš”í•œ ë¦¬ë Œë”ë§ ë°©ì§€

ReducerëŠ” í•­ìƒ ìƒˆë¡œìš´ ê°ì²´ë¥¼ ë°˜í™˜í•˜ë¯€ë¡œ, React.memoì™€ í•¨ê»˜ ì‚¬ìš©í•˜ë©´ íš¨ê³¼ì ì´ë‹¤.

```jsx
// ìì‹ ì»´í¬ë„ŒíŠ¸ ë©”ëª¨ì´ì œì´ì…˜
const TaskList = React.memo(function TaskList({ tasks, onDelete }) {
  return (
    <ul>
      {tasks.map((task) => (
        <TaskItem key={task.id} task={task} onDelete={onDelete} />
      ))}
    </ul>
  );
});
```

#### 2. ì´ˆê¸°ê°’ ê³„ì‚° ìµœì í™”

ì´ˆê¸°ê°’ ê³„ì‚°ì´ ë¹„ìš©ì´ í¬ë‹¤ë©´ ì´ˆê¸°í™” í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•œë‹¤.

```jsx
// ë‚˜ì¨: ë§¤ ë Œë”ë§ë§ˆë‹¤ ê³„ì‚°
const [state, dispatch] = useReducer(reducer, expensiveCalculation());

// ì¢‹ìŒ: ì´ˆê¸°í™” í•¨ìˆ˜ë¡œ í•œ ë²ˆë§Œ ê³„ì‚°
function init(initialValue) {
  return expensiveCalculation(initialValue);
}
const [state, dispatch] = useReducer(reducer, initialValue, init);
```

#### 3. ì•¡ì…˜ í¬ê¸° ìµœì†Œí™”

ì•¡ì…˜ ê°ì²´ëŠ” ì‘ê²Œ ìœ ì§€í•˜ê³ , í•„ìš”í•œ ë°ì´í„°ë§Œ ì „ë‹¬í•œë‹¤.

```jsx
// ë‚˜ì¨: í° ê°ì²´ ì „ë‹¬
dispatch({ type: "updated", entireState: hugeObject });

// ì¢‹ìŒ: ë³€ê²½ëœ ë¶€ë¶„ë§Œ ì „ë‹¬
dispatch({ type: "updated", id: 1, field: "name", value: "ìƒˆ ì´ë¦„" });
```

### Vueì™€ ë¹„êµ

Vueì—ì„œëŠ” Piniaë‚˜ Vuexë¥¼ ì‚¬ìš©í•˜ì—¬ ìœ ì‚¬í•œ íŒ¨í„´ì„ êµ¬í˜„í•œë‹¤:

```javascript
// Vue: Pinia store
import { defineStore } from "pinia";
export const useTaskStore = defineStore("tasks", {
  state: () => ({
    tasks: [],
  }),
  actions: {
    addTask(text) {
      this.tasks.push({ id: nextId++, text, done: false });
    },
    changeTask(task) {
      const index = this.tasks.findIndex((t) => t.id === task.id);
      if (index !== -1) {
        this.tasks[index] = task;
      }
    },
    deleteTask(taskId) {
      this.tasks = this.tasks.filter((t) => t.id !== taskId);
    },
  },
});
```

#### ì£¼ìš” ì°¨ì´ì 

| í•­ëª© | React useReducer | Vue Pinia |
|------|-----------------|-----------|
| ë¶ˆë³€ì„± | í•„ìˆ˜ (ìƒˆ ê°ì²´ ë°˜í™˜) | ì„ íƒ (ì§ì ‘ ìˆ˜ì • ê°€ëŠ¥) |
| ì•¡ì…˜ íƒ€ì… | ëª…ì‹œì  (type í•„ìˆ˜) | ë©”ì„œë“œ ì´ë¦„ì´ ì•¡ì…˜ |
| í…ŒìŠ¤íŠ¸ | reducer í•¨ìˆ˜ë§Œ í…ŒìŠ¤íŠ¸ | actions ë©”ì„œë“œ í…ŒìŠ¤íŠ¸ |
| íƒ€ì… ì•ˆì „ì„± | TypeScriptë¡œ ë³´ì¥ | TypeScript ì§€ì› |

Reactì˜ reducerëŠ” ë¶ˆë³€ì„±ì„ ê°•ì œí•˜ì§€ë§Œ, VueëŠ” ì§ì ‘ ìˆ˜ì •ì„ í—ˆìš©í•œë‹¤.
