---
title: "ğŸš€ [React ë¼ì´ë¸ŒëŸ¬ë¦¬ 7/9] React Router - ë¡œë”© ë° ì—ëŸ¬ ì²˜ë¦¬"
date: "2025-08-18"
description: "Suspense, ErrorBoundary, Lazy Loading ì ìš©"
tags: ["React", "ê³ ê¸‰", "í”„ë¡ íŠ¸ì—”ë“œ"]
series: "React ë¼ì´ë¸ŒëŸ¬ë¦¬"
seriesOrder: 43
---

# React Router ê°€ì´ë“œ - ë¡œë”© ë° ì—ëŸ¬ ì²˜ë¦¬

> React Router v6ë¥¼ ê¸°ë°˜ìœ¼ë¡œ í•œ ë¼ìš°íŒ… í•™ìŠµ ìë£Œ  
> ì¶œì²˜: [React Router Documentation](https://reactrouter.com/)

---

## ë¡œë”© ë° ì—ëŸ¬ ì²˜ë¦¬
ë¡œë”© ë° ì—ëŸ¬ ì²˜ë¦¬

Protected Routes

### 1. ê¸°ë³¸ ì¸ì¦ ê°€ë“œ

```jsx
import { Navigate } from 'react-router-dom';

function ProtectedRoute({ children }) {
  const isAuthenticated = useAuth();
  
  if (!isAuthenticated) {
    return <Navigate to="/login" replace />;
  }
  
  return children;
}

// ì‚¬ìš©
<Route 
  path="/dashboard" 
  element={
    <ProtectedRoute>
      <Dashboard />
    </ProtectedRoute>
  } 
/>
```

### 2. ë¡œê·¸ì¸ í˜ì´ì§€ë¡œ ë¦¬ë‹¤ì´ë ‰íŠ¸ (ì´ì „ ê²½ë¡œ ê¸°ì–µ)

```jsx
import { Navigate, useLocation } from 'react-router-dom';

function ProtectedRoute({ children }) {
  const isAuthenticated = useAuth();
  const location = useLocation();
  
  if (!isAuthenticated) {
    return <Navigate to="/login" state={{ from: location }} replace />;
  }
  
  return children;
}
```

### 3. ì—­í•  ê¸°ë°˜ ì ‘ê·¼ ì œì–´ (RBAC)

```jsx
function ProtectedRoute({ children, requiredRole }) {
  const { isAuthenticated, user } = useAuth();
  
  if (!isAuthenticated) {
    return <Navigate to="/login" replace />;
  }
  
  if (requiredRole && user.role !== requiredRole) {
    return <Navigate to="/unauthorized" replace />;
  }
  
  return children;
}

// ì‚¬ìš©
<Route 
  path="/admin" 
  element={
    <ProtectedRoute requiredRole="admin">
      <AdminPanel />
    </ProtectedRoute>
  } 
/>
```

### 4. ë³µìˆ˜ ì—­í•  ì§€ì›

```jsx
function ProtectedRoute({ children, allowedRoles = [] }) {
  const { isAuthenticated, user } = useAuth();
  
  if (!isAuthenticated) {
    return <Navigate to="/login" replace />;
  }
  
  if (allowedRoles.length > 0 && !allowedRoles.includes(user.role)) {
    return <Navigate to="/unauthorized" replace />;
  }
  
  return children;
}

// ì‚¬ìš©
<Route 
  path="/dashboard" 
  element={
    <ProtectedRoute allowedRoles={['admin', 'editor']}>
      <Dashboard />
    </ProtectedRoute>
  } 
/>
```

### 5. ê¶Œí•œ ì²´í¬ Hook

```jsx
function useAuth() {
  const [auth, setAuth] = useState({
    isAuthenticated: false,
    user: null,
    loading: true
  });
  
  useEffect(() => {
    checkAuth()
      .then(user => {
        setAuth({ isAuthenticated: true, user, loading: false });
      })
      .catch(() => {
        setAuth({ isAuthenticated: false, user: null, loading: false });
      });
  }, []);
  
  return auth;
}

function ProtectedRoute({ children }) {
  const { isAuthenticated, loading } = useAuth();
  
  if (loading) {
    return <div>Loading...</div>;
  }
  
  if (!isAuthenticated) {
    return <Navigate to="/login" replace />;
  }
  
  return children;
}
```

### Vue Routerì™€ ë¹„êµ

```javascript
// Vue Router: Navigation Guards
router.beforeEach((to, from, next) => {
  const isAuthenticated = store.state.isAuthenticated
  
  if (to.meta.requiresAuth && !isAuthenticated) {
    next('/login')
  } else {
    next()
  }
})

const routes = [
  {
    path: '/dashboard',
    component: Dashboard,
    meta: { requiresAuth: true, role: 'admin' }
  }
]
```

```jsx
// React Router: Protected Route Component
function ProtectedRoute({ children, requiredRole }) {
  const { isAuthenticated, user } = useAuth()
  
  if (!isAuthenticated) {
    return <Navigate to="/login" replace />
  }
  
  if (requiredRole && user.role !== requiredRole) {
    return <Navigate to="/unauthorized" replace />
  }
  
  return children
}

<Route 
  path="/dashboard" 
  element={
    <ProtectedRoute requiredRole="admin">
      <Dashboard />
    </ProtectedRoute>
  } 
/>
```

---