---
title: "ğŸ§ª [React í…ŒìŠ¤íŒ… 1/3] Jest ê¸°ì´ˆ"
date: "2025-09-08"
description: "Jestë¥¼ ì‚¬ìš©í•œ í…ŒìŠ¤íŠ¸ ì‘ì„±, Mock, ë¹„ë™ê¸° í…ŒìŠ¤íŠ¸ë¥¼ í•™ìŠµí•œë‹¤"
tags: ["Testing", "JavaScript", "ì¤‘ê¸‰", "í”„ë¡ íŠ¸ì—”ë“œ"]
series: "React í…ŒìŠ¤íŒ…"
seriesOrder: 1
---

# Jest ê¸°ì´ˆ ê°€ì´ë“œ

> Jestë¥¼ ì‚¬ìš©í•œ JavaScript í…ŒìŠ¤íŒ… í•™ìŠµ ìë£Œ

---
## ğŸ“š ëª©ì°¨
1. [ê°œìš”](#ê°œìš”)
2. [ì„¤ì¹˜ ë° ì„¤ì •](#ì„¤ì¹˜-ë°-ì„¤ì •)
3. [ê¸°ë³¸ í…ŒìŠ¤íŠ¸ ì‘ì„±](#ê¸°ë³¸-í…ŒìŠ¤íŠ¸-ì‘ì„±)
4. [Matchers](#matchers)
5. [Mock í•¨ìˆ˜](#mock-í•¨ìˆ˜)
6. [ë¹„ë™ê¸° í…ŒìŠ¤íŠ¸](#ë¹„ë™ê¸°-í…ŒìŠ¤íŠ¸)
7. [Setupê³¼ Teardown](#setupê³¼-teardown)
---

## ê°œìš”

### Jestë€?

JestëŠ” Facebookì´ ë§Œë“  JavaScript í…ŒìŠ¤íŒ… í”„ë ˆì„ì›Œí¬ì´ë‹¤.

íŠ¹ì§•:
- ì œë¡œ ì„¤ì • (Zero Config)
- ë¹ ë¥¸ ì‹¤í–‰ ì†ë„
- ìŠ¤ëƒ…ìƒ· í…ŒìŠ¤íŒ…
- ì½”ë“œ ì»¤ë²„ë¦¬ì§€ ë‚´ì¥
- Mocking ì§€ì›

### ì„¤ì¹˜

```bash
npm install --save-dev jest
npm install --save-dev @types/jest  # TypeScript
```

### package.json ì„¤ì •

```json
{
  "scripts": {
    "test": "jest",
    "test:watch": "jest --watch",
    "test:coverage": "jest --coverage"
  }
}
```

---
## ì„¤ì¹˜ ë° ì„¤ì •
### Jest ì„¤ì • íŒŒì¼
```javascript
// jest.config.js
module.exports = {
  testEnvironment: 'node',
  coveragePathIgnorePatterns: ['/node_modules/'],
  collectCoverageFrom: [
    'src/**/*.{js,jsx,ts,tsx}',
    '!src/**/*.d.ts',
  ],
};
```
### TypeScript ì„¤ì •
```bash
npm install --save-dev ts-jest @types/jest
```
```javascript
// jest.config.js
module.exports = {
  preset: 'ts-jest',
  testEnvironment: 'node',
};
```
---

## ê¸°ë³¸ í…ŒìŠ¤íŠ¸ ì‘ì„±

### ì²« ë²ˆì§¸ í…ŒìŠ¤íŠ¸

```javascript
// sum.js
function sum(a, b) {
  return a + b;
}

module.exports = sum;
```

```javascript
// sum.test.js
const sum = require('./sum');

test('1 + 2ëŠ” 3ì´ë‹¤', () => {
  expect(sum(1, 2)).toBe(3);
});
```

### describeë¡œ ê·¸ë£¹í™”

```javascript
// calculator.test.js
const { add, subtract, multiply, divide } = require('./calculator');

describe('Calculator', () => {
  describe('add', () => {
    test('ë‘ ìˆ˜ë¥¼ ë”í•œë‹¤', () => {
      expect(add(1, 2)).toBe(3);
    });

    test('ìŒìˆ˜ë¥¼ ë”í•œë‹¤', () => {
      expect(add(-1, -2)).toBe(-3);
    });
  });

  describe('subtract', () => {
    test('ë‘ ìˆ˜ë¥¼ ëº€ë‹¤', () => {
      expect(subtract(5, 3)).toBe(2);
    });
  });
});
```

### test vs it

```javascript
// ë™ì¼í•œ ê¸°ëŠ¥
test('ë°°ì—´ì— ìš”ì†Œë¥¼ ì¶”ê°€í•œë‹¤', () => {
  expect([1, 2, 3]).toContain(2);
});

it('ë°°ì—´ì— ìš”ì†Œë¥¼ ì¶”ê°€í•œë‹¤', () => {
  expect([1, 2, 3]).toContain(2);
});
```

---
## Matchers
### ê¸°ë³¸ Matchers
```javascript
// ì •í™•í•œ ì¼ì¹˜
test('toBe', () => {
  expect(2 + 2).toBe(4);
  expect('hello').toBe('hello');
});
// ê°ì²´/ë°°ì—´ ë¹„êµ
test('toEqual', () => {
  expect({ name: 'John' }).toEqual({ name: 'John' });
  expect([1, 2, 3]).toEqual([1, 2, 3]);
});
// Truthiness
test('truthiness', () => {
  expect(true).toBeTruthy();
  expect(false).toBeFalsy();
  expect(null).toBeNull();
  expect(undefined).toBeUndefined();
  expect('hello').toBeDefined();
});
```
### ìˆ«ì Matchers
```javascript
test('ìˆ«ì ë¹„êµ', () => {
  expect(2 + 2).toBe(4);
  expect(2 + 2).toBeGreaterThan(3);
  expect(2 + 2).toBeGreaterThanOrEqual(4);
  expect(2 + 2).toBeLessThan(5);
  expect(2 + 2).toBeLessThanOrEqual(4);
  // ì†Œìˆ˜ì 
  expect(0.1 + 0.2).toBeCloseTo(0.3);
});
```
### ë¬¸ìì—´ Matchers
```javascript
test('ë¬¸ìì—´ ë¹„êµ', () => {
  expect('hello world').toMatch(/world/);
  expect('hello').not.toMatch(/goodbye/);
  expect('JavaScript').toContain('Script');
});
```
### ë°°ì—´ Matchers
```javascript
test('ë°°ì—´ ë¹„êµ', () => {
  const arr = ['apple', 'banana', 'orange'];
  expect(arr).toContain('banana');
  expect(arr).toHaveLength(3);
  expect(arr).toEqual(expect.arrayContaining(['apple', 'banana']));
});
```
### ê°ì²´ Matchers
```javascript
test('ê°ì²´ ë¹„êµ', () => {
  const user = {
    name: 'John',
    age: 30,
    email: 'john@example.com',
  };
  expect(user).toHaveProperty('name');
  expect(user).toHaveProperty('name', 'John');
  expect(user).toMatchObject({ name: 'John', age: 30 });
  expect(user).toEqual(
    expect.objectContaining({
      name: expect.any(String),
      age: expect.any(Number),
    })
  );
});
```
### ì˜ˆì™¸ Matchers
```javascript
function throwError() {
  throw new Error('Something went wrong');
}
test('ì˜ˆì™¸ ë°œìƒ', () => {
  expect(() => throwError()).toThrow();
  expect(() => throwError()).toThrow('Something went wrong');
  expect(() => throwError()).toThrow(/went wrong/);
  expect(() => throwError()).toThrow(Error);
});
```
### not Matcher
```javascript
test('not ì‚¬ìš©', () => {
  expect(2 + 2).not.toBe(5);
  expect('hello').not.toMatch(/goodbye/);
  expect([1, 2, 3]).not.toContain(4);
});
```
---

## Mock í•¨ìˆ˜

### Mock í•¨ìˆ˜ ìƒì„±

```javascript
test('mock í•¨ìˆ˜', () => {
  const mockFn = jest.fn();

  mockFn('hello');
  mockFn('world');

  expect(mockFn).toHaveBeenCalled();
  expect(mockFn).toHaveBeenCalledTimes(2);
  expect(mockFn).toHaveBeenCalledWith('hello');
  expect(mockFn).toHaveBeenLastCalledWith('world');
});
```

### Mock ë°˜í™˜ê°’

```javascript
test('mock ë°˜í™˜ê°’', () => {
  const mockFn = jest.fn();

  mockFn.mockReturnValue(42);
  expect(mockFn()).toBe(42);

  mockFn.mockReturnValueOnce(1)
        .mockReturnValueOnce(2)
        .mockReturnValue(3);

  expect(mockFn()).toBe(1);
  expect(mockFn()).toBe(2);
  expect(mockFn()).toBe(3);
  expect(mockFn()).toBe(3);
});
```

### Mock êµ¬í˜„

```javascript
test('mock êµ¬í˜„', () => {
  const mockFn = jest.fn((x) => x * 2);

  expect(mockFn(2)).toBe(4);
  expect(mockFn(5)).toBe(10);
});
```

### ëª¨ë“ˆ Mock

```javascript
// api.js
export function fetchUser(id) {
  return fetch(`/api/users/${id}`).then(res => res.json());
}

// api.test.js
jest.mock('./api');
import { fetchUser } from './api';

test('fetchUserë¥¼ mockí•œë‹¤', async () => {
  fetchUser.mockResolvedValue({ id: 1, name: 'John' });

  const user = await fetchUser(1);
  expect(user.name).toBe('John');
});
```

### ë¶€ë¶„ Mock

```javascript
// api.js
export const api = {
  fetchUser: (id) => fetch(`/api/users/${id}`),
  fetchPosts: () => fetch('/api/posts'),
};

// api.test.js
jest.mock('./api', () => ({
  ...jest.requireActual('./api'),
  fetchUser: jest.fn(),
}));
```

---
## ë¹„ë™ê¸° í…ŒìŠ¤íŠ¸
### Promises
```javascript
// async.js
export function fetchData() {
  return fetch('/api/data').then(res => res.json());
}
// async.test.js
test('Promise í…ŒìŠ¤íŠ¸', () => {
  return fetchData().then(data => {
    expect(data).toEqual({ id: 1 });
  });
});
// ë˜ëŠ”
test('Promise í…ŒìŠ¤íŠ¸ (resolves)', () => {
  return expect(fetchData()).resolves.toEqual({ id: 1 });
});
```
### Async/Await
```javascript
test('async/await í…ŒìŠ¤íŠ¸', async () => {
  const data = await fetchData();
  expect(data).toEqual({ id: 1 });
});
test('async/await í…ŒìŠ¤íŠ¸ (ì—ëŸ¬)', async () => {
  await expect(fetchData()).rejects.toThrow('Network error');
});
```
### Callbacks
```javascript
function fetchDataWithCallback(callback) {
  setTimeout(() => {
    callback({ id: 1 });
  }, 100);
}
test('callback í…ŒìŠ¤íŠ¸', (done) => {
  function callback(data) {
    expect(data).toEqual({ id: 1 });
    done();
  }
  fetchDataWithCallback(callback);
});
```
---

## Setupê³¼ Teardown

### beforeEach / afterEach

```javascript
describe('Database tests', () => {
  let db;

  beforeEach(() => {
    db = initializeDatabase();
  });

  afterEach(() => {
    db.close();
  });

  test('ë°ì´í„° ì¶”ê°€', () => {
    db.add({ id: 1, name: 'John' });
    expect(db.count()).toBe(1);
  });

  test('ë°ì´í„° ì‚­ì œ', () => {
    db.add({ id: 1, name: 'John' });
    db.remove(1);
    expect(db.count()).toBe(0);
  });
});
```

### beforeAll / afterAll

```javascript
describe('Server tests', () => {
  beforeAll(() => {
    // ì„œë²„ ì‹œì‘ (í•œ ë²ˆë§Œ)
    return startServer();
  });

  afterAll(() => {
    // ì„œë²„ ì¢…ë£Œ (í•œ ë²ˆë§Œ)
    return stopServer();
  });

  test('ì„œë²„ ì‘ë‹µ', async () => {
    const res = await fetch('http://localhost:3000');
    expect(res.status).toBe(200);
  });
});
```

### ì¤‘ì²©ëœ describe

```javascript
describe('User', () => {
  beforeEach(() => {
    console.log('User beforeEach');
  });

  describe('login', () => {
    beforeEach(() => {
      console.log('login beforeEach');
    });

    test('ì„±ê³µ', () => {
      // User beforeEach â†’ login beforeEach â†’ test
    });
  });
});
```

---
## ì‹¤ì „ ì˜ˆì œ
### API í…ŒìŠ¤íŠ¸
```javascript
// userService.js
export async function getUser(id) {
  const response = await fetch(`/api/users/${id}`);
  if (!response.ok) {
    throw new Error('User not found');
  }
  return response.json();
}
// userService.test.js
global.fetch = jest.fn();
describe('getUser', () => {
  beforeEach(() => {
    fetch.mockClear();
  });
  test('ì‚¬ìš©ìë¥¼ ê°€ì ¸ì˜¨ë‹¤', async () => {
    const mockUser = { id: 1, name: 'John' };
    fetch.mockResolvedValueOnce({
      ok: true,
      json: async () => mockUser,
    });
    const user = await getUser(1);
    expect(fetch).toHaveBeenCalledWith('/api/users/1');
    expect(user).toEqual(mockUser);
  });
  test('ì‚¬ìš©ìë¥¼ ì°¾ì„ ìˆ˜ ì—†ìœ¼ë©´ ì—ëŸ¬', async () => {
    fetch.mockResolvedValueOnce({
      ok: false,
    });
    await expect(getUser(999)).rejects.toThrow('User not found');
  });
});
```
### Timer Mock
```javascript
// timer.js
export function delayedGreeting(callback) {
  setTimeout(() => {
    callback('Hello!');
  }, 1000);
}
// timer.test.js
jest.useFakeTimers();
test('1ì´ˆ í›„ ì¸ì‚¬', () => {
  const callback = jest.fn();
  delayedGreeting(callback);
  expect(callback).not.toHaveBeenCalled();
  jest.runAllTimers();
  expect(callback).toHaveBeenCalledWith('Hello!');
});
```
### ìŠ¤ëƒ…ìƒ· í…ŒìŠ¤íŠ¸
```javascript
// component.js
export function renderUser(user) {
  return `
    <div class="user">
      <h1>${user.name}</h1>
      <p>${user.email}</p>
    </div>
  `;
}
// component.test.js
test('ì‚¬ìš©ì ë Œë”ë§ ìŠ¤ëƒ…ìƒ·', () => {
  const user = { name: 'John', email: 'john@example.com' };
  expect(renderUser(user)).toMatchSnapshot();
});
```
---

## ë‹¤ìŒ ë‹¨ê³„

### í•™ìŠµ ì²´í¬ë¦¬ìŠ¤íŠ¸

- [ ] ê¸°ë³¸ í…ŒìŠ¤íŠ¸ë¥¼ ì‘ì„±í•  ìˆ˜ ìˆë‹¤
- [ ] Matchersë¥¼ í™œìš©í•  ìˆ˜ ìˆë‹¤
- [ ] Mock í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤
- [ ] ë¹„ë™ê¸° ì½”ë“œë¥¼ í…ŒìŠ¤íŠ¸í•  ìˆ˜ ìˆë‹¤
- [ ] Setup/Teardownì„ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤
- [ ] ì½”ë“œ ì»¤ë²„ë¦¬ì§€ë¥¼ í™•ì¸í•  ìˆ˜ ìˆë‹¤

### ì¶”ê°€ í•™ìŠµ ìë£Œ

- [Jest ê³µì‹ ë¬¸ì„œ](https://jestjs.io/)
- [Testing Best Practices](https://github.com/goldbergyoni/javascript-testing-best-practices)


ëª¨ë“  í•­ëª©ì„ ì²´í¬í–ˆë‹¤ë©´ ë‹¤ìŒ ì£¼ì œë¡œ ë„˜ì–´ê°€ì„¸ìš”! 

