---
title: "[React ë¼ì´ë¸ŒëŸ¬ë¦¬ 3/4] Zustand & Redux - ìƒíƒœ ê´€ë¦¬"
date: "2025-08-25"
description: "êµ¬ë… íŒ¨í„´, Flux ì•„í‚¤í…ì²˜, ì„ íƒì  ë¦¬ë Œë”ë§ ë©”ì»¤ë‹ˆì¦˜ì„ ì´í•´í•œë‹¤"
tags: ["React", "ê³ ê¸‰", "í”„ë¡ íŠ¸ì—”ë“œ"]
series: "React ë¼ì´ë¸ŒëŸ¬ë¦¬"
seriesOrder: 3
draft: true
---

# React ìƒíƒœ ê´€ë¦¬ ë¼ì´ë¸ŒëŸ¬ë¦¬ ê°€ì´ë“œ

> Zustand, Redux Toolkitì„ ì¤‘ì‹¬ìœ¼ë¡œ í•œ ìƒíƒœ ê´€ë¦¬ í•™ìŠµ ìë£Œ

---

## ğŸ“š ëª©ì°¨

1. [ê°œìš”](#ê°œìš”)
2. [Zustand](#zustand)
3. [Redux Toolkit](#redux-toolkit)
4. [Jotai](#jotai)
5. [ìƒíƒœ ê´€ë¦¬ ë¼ì´ë¸ŒëŸ¬ë¦¬ ë¹„êµ](#ìƒíƒœ-ê´€ë¦¬-ë¼ì´ë¸ŒëŸ¬ë¦¬-ë¹„êµ)
6. [ì–¸ì œ ë¬´ì—‡ì„ ì‚¬ìš©í• ê¹Œ](#ì–¸ì œ-ë¬´ì—‡ì„-ì‚¬ìš©í• ê¹Œ)

---

## ê°œìš”

### ì™œ ìƒíƒœ ê´€ë¦¬ ë¼ì´ë¸ŒëŸ¬ë¦¬ê°€ í•„ìš”í•œê°€?

Context APIì˜ í•œê³„:

- ì„±ëŠ¥ ë¬¸ì œ (ë¶ˆí•„ìš”í•œ ë¦¬ë Œë”ë§)
- ë³µì¡í•œ ìƒíƒœ ë¡œì§
- DevTools ë¶€ì¡±

ìƒíƒœ ê´€ë¦¬ ë¼ì´ë¸ŒëŸ¬ë¦¬ì˜ ì¥ì :

- ìµœì í™”ëœ ë¦¬ë Œë”ë§
- ê°•ë ¥í•œ DevTools
- ë¯¸ë“¤ì›¨ì–´ ì§€ì›
- íƒ€ì„ íŠ¸ë˜ë¸” ë””ë²„ê¹…

### ë¼ì´ë¸ŒëŸ¬ë¦¬ ì„ íƒ ê¸°ì¤€

| ë¼ì´ë¸ŒëŸ¬ë¦¬    | ë²ˆë“¤ í¬ê¸° | í•™ìŠµ ê³¡ì„  | ë³´ì¼ëŸ¬í”Œë ˆì´íŠ¸ | ì‚¬ìš© ì‚¬ë¡€     |
| ------------- | --------- | --------- | -------------- | ------------- |
| Zustand       | ~1KB      | ë‚®ìŒ      | ìµœì†Œ           | ì¤‘ì†Œí˜• ì•±     |
| Redux Toolkit | ~13KB     | ì¤‘ê°„      | ì ìŒ           | ëŒ€ê·œëª¨ ì•±     |
| Jotai         | ~3KB      | ë‚®ìŒ      | ìµœì†Œ           | ì›ìì  ìƒíƒœ   |
| Recoil        | ~20KB     | ì¤‘ê°„      | ì ìŒ           | ë³µì¡í•œ ì˜ì¡´ì„± |

---

## Zustand

### ê°œìš”

ZustandëŠ” ê°€ì¥ ê°„ë‹¨í•˜ê³  ê°€ë²¼ìš´ ìƒíƒœ ê´€ë¦¬ ë¼ì´ë¸ŒëŸ¬ë¦¬ì´ë‹¤.

### Zustandì˜ ë™ì‘ ì›ë¦¬

í•µì‹¬ ë©”ì»¤ë‹ˆì¦˜: êµ¬ë… íŒ¨í„´ (Subscription Pattern)

```javascript
// Zustandê°€ ë‚´ë¶€ì ìœ¼ë¡œ í•˜ëŠ” ì¼ (ë‹¨ìˆœí™”)
function create(initializer) {
  let state = initializer((updater) => {
    // setState í•¨ìˆ˜
    state = updater(state);
    listeners.forEach((listener) => listener(state)); // ëª¨ë“  êµ¬ë…ìì—ê²Œ ì•Œë¦¼
  });

  const listeners = new Set();

  return (selector) => {
    const [, forceUpdate] = useReducer((x) => x + 1, 0);

    useEffect(() => {
      const listener = () => {
        const selectedState = selector(state);
        forceUpdate(); // ë¦¬ë Œë”ë§ íŠ¸ë¦¬ê±°!
      };
      listeners.add(listener);
      return () => listeners.delete(listener);
    }, []);

    return selector(state);
  };
}
```

ë™ì‘ ê³¼ì •:

```
1. Store ìƒì„±
   â†’ ì´ˆê¸° state ì €ì¥
   â†’ subscribers Set ìƒì„±
2. ì»´í¬ë„ŒíŠ¸ì—ì„œ useStore í˜¸ì¶œ
   â†’ selector í•¨ìˆ˜ë¡œ í•„ìš”í•œ stateë§Œ ì¶”ì¶œ
   â†’ í•´ë‹¹ ì»´í¬ë„ŒíŠ¸ë¥¼ subscriberë¡œ ë“±ë¡
3. State ì—…ë°ì´íŠ¸ (set í•¨ìˆ˜ í˜¸ì¶œ)
   â†’ state ê°ì²´ ë³€ê²½
   â†’ ëª¨ë“  subscribersì—ê²Œ ì•Œë¦¼
   â†’ ê° ì»´í¬ë„ŒíŠ¸ê°€ selector ì¬ì‹¤í–‰
   â†’ ê²°ê³¼ê°€ ë³€ê²½ëìœ¼ë©´ ë¦¬ë Œë”ë§
4. ì»´í¬ë„ŒíŠ¸ ì–¸ë§ˆìš´íŠ¸
   â†’ subscriber ëª©ë¡ì—ì„œ ì œê±°
```

ì™œ ë¹ ë¥¸ê°€?

```jsx
const useStore = create((set) => ({
  count: 0,
  user: { name: "John" },
  increment: () => set((state) => ({ count: state.count + 1 })),
}));
// Component A: countë§Œ êµ¬ë…
function ComponentA() {
  const count = useStore((state) => state.count);
  // count ë³€ê²½ ì‹œì—ë§Œ ë¦¬ë Œë”ë§!
}
// Component B: userë§Œ êµ¬ë…
function ComponentB() {
  const user = useStore((state) => state.user);
  // user ë³€ê²½ ì‹œì—ë§Œ ë¦¬ë Œë”ë§!
}
// count ë³€ê²½ ì‹œ:
// - ComponentAë§Œ ë¦¬ë Œë”ë§
// - ComponentBëŠ” ë¦¬ë Œë”ë§ ì•ˆë¨!
```

Context APIì™€ ë¹„êµ:

```jsx
//  Context: ëª¨ë“  Consumerê°€ ë¦¬ë Œë”ë§
const value = { count, user };
<Context.Provider value={value}>
  <ComponentA /> {/* countë§Œ ì‚¬ìš©í•´ë„ user ë³€ê²½ ì‹œ ë¦¬ë Œë”ë§! */}
  <ComponentB />
</Context.Provider>;
//  Zustand: ì„ íƒì  êµ¬ë…
useStore((state) => state.count); // count ë³€ê²½ ì‹œì—ë§Œ ë¦¬ë Œë”ë§
```

### ì‹¤ë¬´ TIP: "Zustandì™€ Context APIì˜ ì°¨ì´ëŠ”?"

ë‹µë³€ ì˜ˆì‹œ:
"ë‘˜ ë‹¤ ì „ì—­ ìƒíƒœ ê´€ë¦¬ì´ì§€ë§Œ ê·¼ë³¸ì  ì°¨ì´ê°€ ìˆë‹¤.
Context APIì˜ í•œê³„:

```jsx
const AppContext = createContext();
function Provider({ children }) {
  const [state, setState] = useState({ count: 0, user: null, theme: "light" });
  return <AppContext.Provider value={state}>{children}</AppContext.Provider>;
}
function Component() {
  const { count } = useContext(AppContext);
  // ë¬¸ì œ: theme ë³€ê²½ë˜ì–´ë„ ë¦¬ë Œë”ë§ë¨!
}
```

Zustandì˜ í•´ê²°:
ì„ íƒì  êµ¬ë… (Selective Subscription)ìœ¼ë¡œ í•„ìš”í•œ stateë§Œ êµ¬ë…í•œë‹¤.

```jsx
const count = useStore((state) => state.count);
// count ë³€ê²½ ì‹œì—ë§Œ ë¦¬ë Œë”ë§!
```

ì„±ëŠ¥ ì°¨ì´:

- ëŒ€ê·œëª¨ ì•±ì—ì„œ ë¶ˆí•„ìš”í•œ ë¦¬ë Œë”ë§ 80% ê°ì†Œ
- Profilerë¡œ ì¸¡ì •í•˜ë©´ ëª…í™•íˆ ë³´ì„
  ì–¸ì œ ë¬´ì—‡ì„ ì‚¬ìš©?
- Context: í…Œë§ˆ, ì–¸ì–´ ë“± ëŠë¦¬ê²Œ ë³€í•˜ëŠ” ìƒíƒœ
- Zustand: ìì£¼ ë³€í•˜ëŠ” UI ìƒíƒœ, í¼ ìƒíƒœ ë“±"
  íŠ¹ì§•:
- ê·¹ë„ë¡œ ê°„ë‹¨í•œ API
- ë³´ì¼ëŸ¬í”Œë ˆì´íŠ¸ ê±°ì˜ ì—†ìŒ
- React Hook ê¸°ë°˜
- TypeScript ì§€ì› ìš°ìˆ˜

### ì„¤ì¹˜

```bash
npm install zustand
```

### ê¸°ë³¸ ì‚¬ìš©ë²•

```jsx
// stores/useCounterStore.js
import { create } from "zustand";
const useCounterStore = create((set) => ({
  count: 0,
  increment: () => set((state) => ({ count: state.count + 1 })),
  decrement: () => set((state) => ({ count: state.count + 1 })),
  reset: () => set({ count: 0 }),
}));
export default useCounterStore;
```

```jsx
// components/Counter.jsx
import useCounterStore from "../stores/useCounterStore";
export default function Counter() {
  const count = useCounterStore((state) => state.count);
  const increment = useCounterStore((state) => state.increment);
  const decrement = useCounterStore((state) => state.decrement);
  const reset = useCounterStore((state) => state.reset);
  return (
    <div>
      <h1>{count}</h1>
      <button onClick={increment}>+</button>
      <button onClick={decrement}>-</button>
      <button onClick={reset}>Reset</button>
    </div>
  );
}
```

### ì„ íƒì  êµ¬ë… (ìµœì í™”)

```jsx
//  ì¢‹ìŒ: countë§Œ êµ¬ë… (count ë³€ê²½ ì‹œì—ë§Œ ë¦¬ë Œë”ë§)
function Counter() {
  const count = useCounterStore((state) => state.count);
  return <h1>{count}</h1>;
}
//  ë‚˜ì¨: ì „ì²´ store êµ¬ë… (ëª¨ë“  ë³€ê²½ ì‹œ ë¦¬ë Œë”ë§)
function Counter() {
  const store = useCounterStore();
  return <h1>{store.count}</h1>;
}
```

### ë¹„ë™ê¸° ì•¡ì…˜

```jsx
import { create } from "zustand";
const useUserStore = create((set) => ({
  users: [],
  loading: false,
  error: null,
  fetchUsers: async () => {
    set({ loading: true, error: null });
    try {
      const response = await fetch("/api/users");
      const users = await response.json();
      set({ users, loading: false });
    } catch (error) {
      set({ error: error.message, loading: false });
    }
  },
  addUser: async (user) => {
    try {
      const response = await fetch("/api/users", {
        method: "POST",
        body: JSON.stringify(user),
      });
      const newUser = await response.json();
      set((state) => ({ users: [...state.users, newUser] }));
    } catch (error) {
      set({ error: error.message });
    }
  },
}));
```

### Immer ë¯¸ë“¤ì›¨ì–´ (ë¶ˆë³€ì„± ê°„í¸í™”)

```bash
npm install immer
```

```jsx
import { create } from "zustand";
import { immer } from "zustand/middleware/immer";
const useTodoStore = create(
  immer((set) => ({
    todos: [],

    addTodo: (text) =>
      set((state) => {
        state.todos.push({ id: Date.now(), text, completed: false });
      }),

    toggleTodo: (id) =>
      set((state) => {
        const todo = state.todos.find((t) => t.id === id);
        if (todo) {
          todo.completed = !todo.completed;
        }
      }),

    removeTodo: (id) =>
      set((state) => {
        state.todos = state.todos.filter((t) => t.id !== id);
      }),
  })),
);
```

### Persist ë¯¸ë“¤ì›¨ì–´ (LocalStorage)

```jsx
import { create } from "zustand";
import { persist } from "zustand/middleware";
const useAuthStore = create(
  persist(
    (set) => ({
      user: null,
      token: null,

      login: (user, token) => set({ user, token }),
      logout: () => set({ user: null, token: null }),
    }),
    {
      name: "auth-storage", // localStorage key
    },
  ),
);
```

### Slice íŒ¨í„´ (ëŒ€ê·œëª¨ ì•±)

```jsx
// stores/slices/userSlice.js
export const createUserSlice = (set) => ({
  users: [],
  fetchUsers: async () => {
    const users = await fetch("/api/users").then((r) => r.json());
    set({ users });
  },
});
// stores/slices/postSlice.js
export const createPostSlice = (set) => ({
  posts: [],
  fetchPosts: async () => {
    const posts = await fetch("/api/posts").then((r) => r.json());
    set({ posts });
  },
});
// stores/useStore.js
import { create } from "zustand";
import { createUserSlice } from "./slices/userSlice";
import { createPostSlice } from "./slices/postSlice";
const useStore = create((...args) => ({
  ...createUserSlice(...args),
  ...createPostSlice(...args),
}));
export default useStore;
```

### DevTools

```jsx
import { create } from "zustand";
import { devtools } from "zustand/middleware";
const useStore = create(
  devtools((set) => ({
    count: 0,
    increment: () => set((state) => ({ count: state.count + 1 })),
  })),
);
```

### Piniaì™€ ë¹„êµ

```javascript
// Vue: Pinia
import { defineStore } from "pinia";
export const useCounterStore = defineStore("counter", {
  state: () => ({
    count: 0,
  }),
  actions: {
    increment() {
      this.count++;
    },
  },
});
```

```javascript
// React: Zustand
import { create } from "zustand";
const useCounterStore = create((set) => ({
  count: 0,
  increment: () => set((state) => ({ count: state.count + 1 })),
}));
```

---

## Redux Toolkit

### ê°œìš”

Redux Toolkitì€ Reduxì˜ ê³µì‹ ê¶Œì¥ ë°©ë²•ì´ë‹¤.

íŠ¹ì§•:

- Redux ë³´ì¼ëŸ¬í”Œë ˆì´íŠ¸ ëŒ€í­ ê°ì†Œ
- Immer ë‚´ì¥ (ë¶ˆë³€ì„± ìë™ ì²˜ë¦¬)
- Redux DevTools ë‚´ì¥
- RTK Query (ë°ì´í„° í˜ì¹­)

### ì„¤ì¹˜

```bash
npm install @reduxjs/toolkit react-redux
```

### ê¸°ë³¸ ì„¤ì •

```jsx
// store.js
import { configureStore } from "@reduxjs/toolkit";
import counterReducer from "./slices/counterSlice";
import userReducer from "./slices/userSlice";

export const store = configureStore({
  reducer: {
    counter: counterReducer,
    user: userReducer,
  },
});
```

```jsx
// index.jsx
import { Provider } from "react-redux";
import { store } from "./store";

root.render(
  <Provider store={store}>
    <App />
  </Provider>,
);
```

### Slice ìƒì„±

```jsx
// slices/counterSlice.js
import { createSlice } from "@reduxjs/toolkit";

const counterSlice = createSlice({
  name: "counter",
  initialState: {
    value: 0,
  },
  reducers: {
    increment: (state) => {
      state.value += 1; // Immer ë•ë¶„ì— ì§ì ‘ ìˆ˜ì • ê°€ëŠ¥!
    },
    decrement: (state) => {
      state.value -= 1;
    },
    incrementByAmount: (state, action) => {
      state.value += action.payload;
    },
    reset: (state) => {
      state.value = 0;
    },
  },
});

export const { increment, decrement, incrementByAmount, reset } =
  counterSlice.actions;
export default counterSlice.reducer;
```

### ì»´í¬ë„ŒíŠ¸ì—ì„œ ì‚¬ìš©

```jsx
// components/Counter.jsx
import { useSelector, useDispatch } from "react-redux";
import { increment, decrement, reset } from "../slices/counterSlice";

export default function Counter() {
  const count = useSelector((state) => state.counter.value);
  const dispatch = useDispatch();

  return (
    <div>
      <h1>{count}</h1>
      <button onClick={() => dispatch(increment())}>+</button>
      <button onClick={() => dispatch(decrement())}>-</button>
      <button onClick={() => dispatch(reset())}>Reset</button>
    </div>
  );
}
```

### ë¹„ë™ê¸° Thunk

```jsx
// slices/userSlice.js
import { createSlice, createAsyncThunk } from "@reduxjs/toolkit";

export const fetchUsers = createAsyncThunk("users/fetchUsers", async () => {
  const response = await fetch("/api/users");
  return response.json();
});

const userSlice = createSlice({
  name: "users",
  initialState: {
    list: [],
    loading: false,
    error: null,
  },
  reducers: {},
  extraReducers: (builder) => {
    builder
      .addCase(fetchUsers.pending, (state) => {
        state.loading = true;
        state.error = null;
      })
      .addCase(fetchUsers.fulfilled, (state, action) => {
        state.loading = false;
        state.list = action.payload;
      })
      .addCase(fetchUsers.rejected, (state, action) => {
        state.loading = false;
        state.error = action.error.message;
      });
  },
});

export default userSlice.reducer;
```

```jsx
// components/UserList.jsx
import { useEffect } from "react";
import { useSelector, useDispatch } from "react-redux";
import { fetchUsers } from "../slices/userSlice";

export default function UserList() {
  const { list, loading, error } = useSelector((state) => state.users);
  const dispatch = useDispatch();

  useEffect(() => {
    dispatch(fetchUsers());
  }, [dispatch]);

  if (loading) return <div>Loading...</div>;
  if (error) return <div>Error: {error}</div>;

  return (
    <ul>
      {list.map((user) => (
        <li key={user.id}>{user.name}</li>
      ))}
    </ul>
  );
}
```

### RTK Query

```jsx
// api/apiSlice.js
import { createApi, fetchBaseQuery } from "@reduxjs/toolkit/query/react";

export const apiSlice = createApi({
  reducerPath: "api",
  baseQuery: fetchBaseQuery({ baseUrl: "/api" }),
  tagTypes: ["Users", "Posts"],
  endpoints: (builder) => ({
    getUsers: builder.query({
      query: () => "/users",
      providesTags: ["Users"],
    }),
    getUser: builder.query({
      query: (id) => `/users/${id}`,
      providesTags: (result, error, id) => [{ type: "Users", id }],
    }),
    addUser: builder.mutation({
      query: (user) => ({
        url: "/users",
        method: "POST",
        body: user,
      }),
      invalidatesTags: ["Users"],
    }),
    updateUser: builder.mutation({
      query: ({ id, ...user }) => ({
        url: `/users/${id}`,
        method: "PUT",
        body: user,
      }),
      invalidatesTags: (result, error, { id }) => [{ type: "Users", id }],
    }),
  }),
});

export const {
  useGetUsersQuery,
  useGetUserQuery,
  useAddUserMutation,
  useUpdateUserMutation,
} = apiSlice;
```

```jsx
// store.js
import { configureStore } from "@reduxjs/toolkit";
import { apiSlice } from "./api/apiSlice";

export const store = configureStore({
  reducer: {
    [apiSlice.reducerPath]: apiSlice.reducer,
  },
  middleware: (getDefaultMiddleware) =>
    getDefaultMiddleware().concat(apiSlice.middleware),
});
```

```jsx
// components/UserList.jsx
import { useGetUsersQuery, useAddUserMutation } from "../api/apiSlice";

export default function UserList() {
  const { data: users, isLoading, error } = useGetUsersQuery();
  const [addUser, { isLoading: isAdding }] = useAddUserMutation();

  async function handleAdd() {
    await addUser({ name: "New User", email: "new@example.com" });
  }

  if (isLoading) return <div>Loading...</div>;
  if (error) return <div>Error</div>;

  return (
    <div>
      <button onClick={handleAdd} disabled={isAdding}>
        Add User
      </button>
      <ul>
        {users.map((user) => (
          <li key={user.id}>{user.name}</li>
        ))}
      </ul>
    </div>
  );
}
```

### Selector ìµœì í™”

```jsx
// selectors/userSelectors.js
import { createSelector } from "@reduxjs/toolkit";

// ê¸°ë³¸ selector
export const selectUsers = (state) => state.users.list;

// Memoized selector
export const selectActiveUsers = createSelector([selectUsers], (users) =>
  users.filter((user) => user.active),
);

export const selectUserById = createSelector(
  [selectUsers, (state, userId) => userId],
  (users, userId) => users.find((user) => user.id === userId),
);
```

```jsx
// components/ActiveUsers.jsx
import { useSelector } from "react-redux";
import { selectActiveUsers } from "../selectors/userSelectors";

export default function ActiveUsers() {
  const activeUsers = useSelector(selectActiveUsers);

  return (
    <ul>
      {activeUsers.map((user) => (
        <li key={user.id}>{user.name}</li>
      ))}
    </ul>
  );
}
```

### Vuexì™€ ë¹„êµ

```javascript
// Vue: Vuex
import { createStore } from "vuex";

const store = createStore({
  state: {
    count: 0,
  },
  mutations: {
    increment(state) {
      state.count++;
    },
  },
  actions: {
    incrementAsync({ commit }) {
      setTimeout(() => {
        commit("increment");
      }, 1000);
    },
  },
});
```

```javascript
// React: Redux Toolkit
import { createSlice } from "@reduxjs/toolkit";

const counterSlice = createSlice({
  name: "counter",
  initialState: { count: 0 },
  reducers: {
    increment: (state) => {
      state.count++;
    },
  },
});
```

---

## Jotai

### ê°œìš”

JotaiëŠ” ì›ìì (atomic) ì ‘ê·¼ ë°©ì‹ì˜ ìƒíƒœ ê´€ë¦¬ ë¼ì´ë¸ŒëŸ¬ë¦¬ì´ë‹¤.
íŠ¹ì§•:

- ì›ì(atom) ê¸°ë°˜
- ìµœì†Œí•œì˜ ë³´ì¼ëŸ¬í”Œë ˆì´íŠ¸
- TypeScript ì¹œí™”ì 
- Suspense ì§€ì›

### ì„¤ì¹˜

```bash
npm install jotai
```

### ê¸°ë³¸ ì‚¬ìš©ë²•

```jsx
// atoms.js
import { atom } from "jotai";
export const countAtom = atom(0);
export const nameAtom = atom("John");
```

```jsx
// components/Counter.jsx
import { useAtom } from "jotai";
import { countAtom } from "../atoms";
export default function Counter() {
  const [count, setCount] = useAtom(countAtom);
  return (
    <div>
      <h1>{count}</h1>
      <button onClick={() => setCount((c) => c + 1)}>Increment</button>
    </div>
  );
}
```

### ì½ê¸° ì „ìš© / ì“°ê¸° ì „ìš©

```jsx
import { useAtomValue, useSetAtom } from "jotai";
function Display() {
  const count = useAtomValue(countAtom); // ì½ê¸° ì „ìš©
  return <h1>{count}</h1>;
}
function Controls() {
  const setCount = useSetAtom(countAtom); // ì“°ê¸° ì „ìš©
  return <button onClick={() => setCount((c) => c + 1)}>+</button>;
}
```

### íŒŒìƒ Atom

```jsx
import { atom } from "jotai";
const countAtom = atom(0);
const doubleCountAtom = atom((get) => get(countAtom) * 2);
function Display() {
  const [count] = useAtom(countAtom);
  const [doubleCount] = useAtom(doubleCountAtom);

  return (
    <div>
      <p>Count: {count}</p>
      <p>Double: {doubleCount}</p>
    </div>
  );
}
```

### ë¹„ë™ê¸° Atom

```jsx
import { atom } from "jotai";
const userIdAtom = atom(1);
const userAtom = atom(async (get) => {
  const userId = get(userIdAtom);
  const response = await fetch(`/api/users/${userId}`);
  return response.json();
});
function UserProfile() {
  const [user] = useAtom(userAtom);

  return <div>{user.name}</div>;
}
```

### Atom with Storage

```jsx
import { atomWithStorage } from "jotai/utils";
const themeAtom = atomWithStorage("theme", "light");
function ThemeToggle() {
  const [theme, setTheme] = useAtom(themeAtom);

  return (
    <button onClick={() => setTheme(theme === "light" ? "dark" : "light")}>
      {theme}
    </button>
  );
}
```

---

## ìƒíƒœ ê´€ë¦¬ ë¼ì´ë¸ŒëŸ¬ë¦¬ ë¹„êµ

### ë²ˆë“¤ í¬ê¸°

```
Zustand:        ~1KB
Jotai:          ~3KB
Redux Toolkit:  ~13KB
Recoil:         ~20KB
```

### ì„±ëŠ¥ ë¹„êµ

| ë¼ì´ë¸ŒëŸ¬ë¦¬    | ë¦¬ë Œë”ë§ ìµœì í™” | DevTools   | TypeScript |
| ------------- | --------------- | ---------- | ---------- |
| Zustand       | â­â­â­â­â­      | â­â­â­     | â­â­â­â­â­ |
| Redux Toolkit | â­â­â­â­        | â­â­â­â­â­ | â­â­â­â­   |
| Jotai         | â­â­â­â­â­      | â­â­â­     | â­â­â­â­â­ |

### API ë³µì¡ë„

```jsx
// Zustand (ê°€ì¥ ê°„ë‹¨)
const useStore = create((set) => ({
  count: 0,
  increment: () => set((state) => ({ count: state.count + 1 })),
}));

// Jotai (ì›ìì )
const countAtom = atom(0);
const [count, setCount] = useAtom(countAtom);

// Redux Toolkit (êµ¬ì¡°í™”ë¨)
const counterSlice = createSlice({
  name: "counter",
  initialState: { value: 0 },
  reducers: {
    increment: (state) => {
      state.value++;
    },
  },
});
```

---

## ì–¸ì œ ë¬´ì—‡ì„ ì‚¬ìš©í• ê¹Œ

### Zustandë¥¼ ì‚¬ìš©í•˜ë¼

ì¥ì :

- ë§¤ìš° ê°„ë‹¨í•œ API
- ë³´ì¼ëŸ¬í”Œë ˆì´íŠ¸ ê±°ì˜ ì—†ìŒ
- ë²ˆë“¤ í¬ê¸° ìµœì†Œ
  ì‚¬ìš© ì‚¬ë¡€:
- ì¤‘ì†Œí˜• ì•±
- ë¹ ë¥¸ í”„ë¡œí† íƒ€ì´í•‘
- ê°„ë‹¨í•œ ì „ì—­ ìƒíƒœ

```jsx
// ê°„ë‹¨í•œ ì¸ì¦ ìƒíƒœ
const useAuthStore = create((set) => ({
  user: null,
  login: (user) => set({ user }),
  logout: () => set({ user: null }),
}));
```

### Redux Toolkitì„ ì‚¬ìš©í•˜ë¼

ì¥ì :

- ê°•ë ¥í•œ DevTools
- ì‹œê°„ ì—¬í–‰ ë””ë²„ê¹…
- ëŒ€ê·œëª¨ íŒ€ì— ê²€ì¦ë¨
  ì‚¬ìš© ì‚¬ë¡€:
- ëŒ€ê·œëª¨ ì•±
- ë³µì¡í•œ ìƒíƒœ ë¡œì§
- ë§ì€ ë¹„ë™ê¸° ì‘ì—…

```jsx
// ë³µì¡í•œ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§
const orderSlice = createSlice({
  name: "orders",
  initialState: { list: [], filters: {}, sorting: {} },
  reducers: {
    // ë§ì€ reducer...
  },
});
```

### Jotaië¥¼ ì‚¬ìš©í•˜ë¼

ì¥ì :

- ì›ìì  ì—…ë°ì´íŠ¸
- Suspense ì§€ì›
- ìµœì†Œ ë¦¬ë Œë”ë§
  ì‚¬ìš© ì‚¬ë¡€:
- ì„¸ë°€í•œ ìƒíƒœ ì œì–´
- Suspense í™œìš©
- ì›ìì  ìƒíƒœ ê´€ë¦¬

```jsx
// ë…ë¦½ì ì¸ ìƒíƒœ ì¡°ê°ë“¤
const userAtom = atom(null);
const settingsAtom = atom({});
const themeAtom = atom("light");
```

### Context APIë¥¼ ì‚¬ìš©í•˜ë¼

ì–¸ì œ:

- ìƒíƒœê°€ ì ì„ ë•Œ
- ì„±ëŠ¥ì´ ì¤‘ìš”í•˜ì§€ ì•Šì„ ë•Œ
- ì™¸ë¶€ ì˜ì¡´ì„±ì„ í”¼í•˜ê³  ì‹¶ì„ ë•Œ

```jsx
const ThemeContext = createContext();
```

---

## ì‹¤ì „ ì˜ˆì œ: E-Commerce ì•±

### Zustand ë²„ì „

```jsx
// stores/useCartStore.js
import { create } from "zustand";
import { persist } from "zustand/middleware";

const useCartStore = create(
  persist(
    (set, get) => ({
      items: [],

      addItem: (product) =>
        set((state) => {
          const existing = state.items.find((item) => item.id === product.id);
          if (existing) {
            return {
              items: state.items.map((item) =>
                item.id === product.id
                  ? { ...item, quantity: item.quantity + 1 }
                  : item,
              ),
            };
          }
          return { items: [...state.items, { ...product, quantity: 1 }] };
        }),

      removeItem: (productId) =>
        set((state) => ({
          items: state.items.filter((item) => item.id !== productId),
        })),

      updateQuantity: (productId, quantity) =>
        set((state) => ({
          items: state.items.map((item) =>
            item.id === productId ? { ...item, quantity } : item,
          ),
        })),

      clearCart: () => set({ items: [] }),

      getTotal: () => {
        const { items } = get();
        return items.reduce((sum, item) => sum + item.price * item.quantity, 0);
      },
    }),
    { name: "cart-storage" },
  ),
);

export default useCartStore;
```

```jsx
// components/Cart.jsx
import useCartStore from "../stores/useCartStore";

export default function Cart() {
  const items = useCartStore((state) => state.items);
  const removeItem = useCartStore((state) => state.removeItem);
  const updateQuantity = useCartStore((state) => state.updateQuantity);
  const getTotal = useCartStore((state) => state.getTotal);

  return (
    <div>
      <h2>Shopping Cart</h2>
      {items.map((item) => (
        <div key={item.id}>
          <span>{item.name}</span>
          <input
            type="number"
            value={item.quantity}
            onChange={(e) => updateQuantity(item.id, Number(e.target.value))}
          />
          <span>${item.price * item.quantity}</span>
          <button onClick={() => removeItem(item.id)}>Remove</button>
        </div>
      ))}
      <div>Total: ${getTotal()}</div>
    </div>
  );
}
```

### Redux Toolkit ë²„ì „

```jsx
// slices/cartSlice.js
import { createSlice } from "@reduxjs/toolkit";

const cartSlice = createSlice({
  name: "cart",
  initialState: {
    items: [],
  },
  reducers: {
    addItem: (state, action) => {
      const existing = state.items.find(
        (item) => item.id === action.payload.id,
      );
      if (existing) {
        existing.quantity++;
      } else {
        state.items.push({ ...action.payload, quantity: 1 });
      }
    },
    removeItem: (state, action) => {
      state.items = state.items.filter((item) => item.id !== action.payload);
    },
    updateQuantity: (state, action) => {
      const item = state.items.find((item) => item.id === action.payload.id);
      if (item) {
        item.quantity = action.payload.quantity;
      }
    },
    clearCart: (state) => {
      state.items = [];
    },
  },
});

export const { addItem, removeItem, updateQuantity, clearCart } =
  cartSlice.actions;

export const selectCartItems = (state) => state.cart.items;
export const selectCartTotal = (state) =>
  state.cart.items.reduce((sum, item) => sum + item.price * item.quantity, 0);

export default cartSlice.reducer;
```

---

## ë‹¤ìŒ ë‹¨ê³„

### í•™ìŠµ ì²´í¬ë¦¬ìŠ¤íŠ¸

- [ ] Zustandë¡œ ê°„ë‹¨í•œ ìƒíƒœ ê´€ë¦¬ë¥¼ í•  ìˆ˜ ìˆë‹¤
- [ ] Redux Toolkitìœ¼ë¡œ ë³µì¡í•œ ìƒíƒœë¥¼ ê´€ë¦¬í•  ìˆ˜ ìˆë‹¤
- [ ] RTK Queryë¡œ ë°ì´í„° í˜ì¹­ì„ í•  ìˆ˜ ìˆë‹¤
- [ ] Jotaiì˜ ì›ìì  ì ‘ê·¼ì„ ì´í•´í•œë‹¤
- [ ] í”„ë¡œì íŠ¸ì— ë§ëŠ” ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì„ íƒí•  ìˆ˜ ìˆë‹¤
- [ ] Persist ë¯¸ë“¤ì›¨ì–´ë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤
- [ ] DevToolsë¥¼ í™œìš©í•  ìˆ˜ ìˆë‹¤

### ì¶”ê°€ í•™ìŠµ ìë£Œ

- [Zustand ê³µì‹ ë¬¸ì„œ](https://docs.pmnd.rs/zustand/)
- [Redux Toolkit ê³µì‹ ë¬¸ì„œ](https://redux-toolkit.js.org/)
- [Jotai ê³µì‹ ë¬¸ì„œ](https://jotai.org/)
